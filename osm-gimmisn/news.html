<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Changelog - osm-gimmisn user guide</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="usage.html"><strong aria-hidden="true">2.</strong> Usage</a></li><li class="chapter-item expanded "><a href="hacking.html"><strong aria-hidden="true">3.</strong> Development notes</a></li><li class="chapter-item expanded "><a href="news.html" class="active"><strong aria-hidden="true">4.</strong> Changelog</a></li><li class="chapter-item expanded "><a href="contributors.html"><strong aria-hidden="true">5.</strong> Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">osm-gimmisn user guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/vmiklos/osm-gimmisn/edit/main/guide/src/news.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="changelog"><a class="header" href="#changelog">Changelog</a></h1>
<h2 id="master"><a class="header" href="#master">master</a></h2>
<ul>
<li>Resolves: gh#4671 dark mode support (Máté Gyöngyösi)</li>
<li>Resolves: gh#4500 new <code>/lints/whole-country/invalid-addr-cities-turbo</code> endpoint to query the
objects of the invalid addr:city values in overpass turbo</li>
<li>Resolves: gh#4710 handle the <code>addr:unit=*</code> key when parsing OSM housenumbers</li>
</ul>
<h2 id="258"><a class="header" href="#258">25.8</a></h2>
<ul>
<li>Resolves: gh#4372 visualisation of settlements without any house number</li>
<li>Resolves: gh#4506 relation filters: <code>invalid</code> items containing hyphens can be combined with
housenumber-letters=false</li>
<li>Resolves: gh#4586 relation filters: <code>invalid</code> items containing hyphens now also accept the 42-43a
form</li>
<li>Resolves: gh#4594 cron can now delete SQL caches of relations removed from Git</li>
</ul>
<h2 id="252"><a class="header" href="#252">25.2</a></h2>
<ul>
<li>Resolves: gh#4088 missing-housenumbers output is now deterministic for the <code>housenumber-letters: true</code> case when <code>1/a</code>, <code>1/b</code>, etc is simplified to only one of the matches</li>
<li>Resolves: gh#3892 relation filters: <code>invalid</code> items can now contain hyphens</li>
</ul>
<h2 id="248"><a class="header" href="#248">24.8</a></h2>
<ul>
<li>Resolves: gh#3744 cron: add a new --refarea switch</li>
<li>Resolves: gh#3558 <code>,</code> is now also recognized as a housenumber separator, similar to <code>;</code></li>
<li>Resolves: gh#3768 lints, invalid addr:city values: add new 'update from OSM' button</li>
<li>Resolves: gh#3792 /lints/whole-country/invalid-addr-cities now has separate osm and areas dates</li>
<li>Resolves: gh#3818 invalid addr:city values: make sure history is not modified after the fact</li>
<li>Resolves: gh#3826 sync-ref has a new <code>--mode local</code> switch to work offline</li>
<li>Resolves: gh#3850 validator: flag osm=ref in refstreets</li>
</ul>
<h2 id="242"><a class="header" href="#242">24.2</a></h2>
<ul>
<li>Resolves: gh#3073 New <code>/missing-housenumbers/.../view-lints</code> endpoint, listing per-relation lints
(mostly flagging unused filters)</li>
<li>Resolves: gh#3288 additional streets, gpx: handle nodes and relations as well</li>
<li>Resolves: gh#3290 YAML keys are now flagged by the validator, instead of taking the last value</li>
<li>Resolves: gh#3456 <code>/lints/whole-country/invalid-addr-cities</code> is now case-sensitive, finds more
problems</li>
<li>Resolves: gh#3105 update times in the footer now show both the OSM and areas timestamp instead of
the time of the overpass query</li>
</ul>
<h2 id="76"><a class="header" href="#76">7.6</a></h2>
<ul>
<li>Rouille: new <code>--host</code> parameter to specify the bind address</li>
<li>The <code>/missing-housenumbers/.../update-result</code> is now about 6 times faster (replaced home-grown
JSON cache with SQL indexes)</li>
<li>New <code>/lints/.../invalid-addr-cities</code> endpoint, tries to find invalid addr:city values</li>
<li>Resolves: gh#2986 stats: the length of the invalid addr:city values list now has a chart</li>
<li>Resolves: gh#2987 stats: extract 2 lints from the stats page to an own lints page</li>
<li>Resolves: gh#2994 areas: find ref-not-in-reflist problems in <code>Relation.get_invalid_refstreets()</code></li>
<li>Resolves: gh#2988 cron: enable inactive relations which are invalid</li>
<li>Resolves: gh#3018 additional streets is now available in gpx format as well</li>
</ul>
<h2 id="75"><a class="header" href="#75">7.5</a></h2>
<ul>
<li>New <code>/missing-housenumbers/.../view-result.json</code> endpoint, exposing the missing-housenumbers
analysis result for a relation in a machine-readable format.</li>
<li>New <code>/additional-housenumbers/.../view-result.json</code> endpoint, exposing the additional-housenumbers
analysis result for a relation in a machine-readable format.</li>
<li>Resolves: gh#2592 cron now creates state for new, inactive relations</li>
<li>Resolves: gh#2628 rename <code>*.expected-data</code> to <code>*.overpassql</code></li>
</ul>
<h2 id="74"><a class="header" href="#74">7.4</a></h2>
<ul>
<li>Ported to chartjs v3, the javascript bundle size is now about 20% smaller</li>
</ul>
<h2 id="73"><a class="header" href="#73">7.3</a></h2>
<ul>
<li>Ported to Rust, the missing-housenumbers analysis is now about 5 times faster</li>
<li>Resolves: gh#1664 re-try overpass when response is XML (an error message) and CSV was requested</li>
<li>Resolves: gh#1740 fix /filter-for/refcounty/../refsettlement/.. filtering out everything</li>
<li>Resolves: gh#1746 fix disappeared localized strings</li>
<li>Resolves: gh#1815 validator now rejects trailing whitespace when converting numbers to strings</li>
<li>Resolves: gh#1839 stats: report per-zip coverage of housenumbers</li>
<li>Resolves: gh#1950 fix the validator's exit code to actually fail on validation errors during CI</li>
<li>Resolves: gh#2009 stats: separate progressbar for the capital</li>
</ul>
<h2 id="72"><a class="header" href="#72">7.2</a></h2>
<ul>
<li>
<p>Resolves: gh#964 <code>get_street_from_housenumber</code>: consider addr:place when addr:street is empty</p>
</li>
<li>
<p>Resolves: gh#978 gettext: check <code>wsgi_additional.py</code> for l10n strings</p>
</li>
<li>
<p>Resolves: gh#1008 invalid refstreets: add to missing/additional streets as well</p>
</li>
<li>
<p>Resolves: gh#1025 invalid refstreets: add UI to list all problematic relations</p>
</li>
<li>
<p>Resolves: gh#1033 missing streets: let &quot;update from osm&quot; also update house numbers</p>
</li>
<li>
<p>Resolves: gh#1048 invalid-relations: flag filter key names which are not OSM street names</p>
</li>
<li>
<p>Resolves: gh#1067 invalid refstreets: don't show note when there are no results</p>
</li>
<li>
<p>Resolves: gh#1126 stats, invalid-relations: ignore relation without an osm street list</p>
</li>
<li>
<p>Resolves: gh#1198 tests: fix missing <code>test_config.TestCase</code> base class</p>
</li>
<li>
<p>Resolves: gh#1206 Cache missing-housenumbers plain text output</p>
</li>
<li>
<p>Resolves: gh#1201 <code>parse_access_log</code>: ignore complete areas harder</p>
</li>
<li>
<p>Resolves: gh#1209 cron: also cache localized missing housenumbers html output</p>
</li>
<li>
<p>Resolves: gh#1225 missing-housenumbers html cache: handle missing relation yaml</p>
</li>
<li>
<p>Resolves: gh#1408 Fix Hungarian sort order</p>
</li>
<li>
<p>Resolves: gh#1463 stats: handle missing files in <code>get_topcities()</code></p>
</li>
<li>
<p>Resolves: gh#1508 webframe: context time is in utc, datetime.date.fromtimestamp takes a local time</p>
</li>
</ul>
<h2 id="71"><a class="header" href="#71">7.1</a></h2>
<ul>
<li>
<p>Resolves: gh#576 garbage collection: if a relation was created &lt;1 month ago, then ignore it in
<code>parse_access_log.py</code></p>
</li>
<li>
<p>Resolves: gh#578 garbage collection: exclude completed areas</p>
</li>
<li>
<p>Resolves: gh#585 fix street mapping when street name contains commas</p>
</li>
<li>
<p>Resolves: gh#594 stats: top cities: filter for valid cities + captial districts</p>
</li>
<li>
<p>Resolves: gh#611 additional streets, opposite of missing streets are now searched for</p>
</li>
<li>
<p>Resolves: gh#613 provide a robots.txt</p>
</li>
<li>
<p>Resolves: gh#616 handle house numbers containing commas</p>
</li>
<li>
<p>Resolves: gh#617 garbage collection: filter out search engine user agents</p>
</li>
<li>
<p>Resolves: gh#688 reworked the toolbar</p>
</li>
<li>
<p>Resolves: gh#689 additional streets: improved main page, showing # of additional streets there</p>
</li>
<li>
<p>Resolves: gh#690 you can now filter for relations based on your current position</p>
</li>
<li>
<p>Resolves: gh#754 missing housenumbers now ignores points without house numbers and
conscriptionnumbers</p>
</li>
<li>
<p>Resolves: gh#759 main page: default to hiding complete areas</p>
</li>
<li>
<p>Resolves: gh#765 calls to overpass now always redirect back to the original page</p>
</li>
<li>
<p>Resolves: gh#782 additional streets: handle streets with type=relation</p>
</li>
<li>
<p>Resolves: gh#784 street mappings: invalid osm or reference names are now flagged on the missing
housenumbers page</p>
</li>
<li>
<p>Resolves: gh#830 additional streets: track OSM id of street names which come from house numbers</p>
</li>
<li>
<p>Resolves: gh#861 additional streets now can generate an overpass query</p>
</li>
<li>
<p>Resolves: gh#875 missing and additional streets now also have plain text and checklist output
formats</p>
</li>
<li>
<p>Resolves: gh#886 additional streets have a proper last update date</p>
</li>
</ul>
<h2 id="70"><a class="header" href="#70">7.0</a></h2>
<ul>
<li>
<p>Resolves: gh#564 wsgi: add support for locale-aware percent formatting</p>
</li>
<li>
<p>Resolves: gh#563 city progress: avoid double link</p>
</li>
<li>
<p>Resolves: gh#561 cron: update ref.count from <code>reference_citycounts</code></p>
</li>
<li>
<p>Resolves: gh#521 sync missing-housenumbers and missing-streets toolbars</p>
</li>
<li>
<p>Resolves: gh#513 add overpass query for not yet audited street mappings</p>
</li>
<li>
<p>Resolves: gh#490 stats: add per-city coverage page</p>
</li>
<li>
<p>Resolves: gh#489 stats: add per-city monthly diff page</p>
</li>
<li>
<p>The stats feature now tracks the count of house number editors over time</p>
</li>
</ul>
<h2 id="60"><a class="header" href="#60">6.0</a></h2>
<ul>
<li>
<p>The stats feature now has localized strings</p>
</li>
<li>
<p>The stats feature now has good test coverage</p>
</li>
<li>
<p>Resolves: gh#441 cron can now again update inactive relations once a month</p>
</li>
<li>
<p>Resolves: gh#437 the locale install requirement is now documented</p>
</li>
<li>
<p>Resolves: gh#436 ref street name is now shown after the osm street name if it differs</p>
</li>
<li>
<p>Resolves: gh#381 stats now has trendlines</p>
</li>
<li>
<p>Resolves: gh#426 missing housenumbers now allows updating from OSM with a single click</p>
</li>
<li>
<p>Resolves: gh#383 stats, monthly total now has an extra column to show today's count</p>
</li>
<li>
<p>Resolves: gh#385 <code>invalid</code> list items are now normalized by default</p>
</li>
<li>
<p>Resolves: gh#388 cron's console output and log file now uses the same format</p>
</li>
<li>
<p>Resolves: gh#414 the missing housenumber page's table is now sorted correctly even if house number
ranges reduce the amount of items for some streets</p>
</li>
<li>
<p>Resolves: gh#372 commercial house numbers now can have comments, visible as tooltips</p>
</li>
</ul>
<h2 id="50"><a class="header" href="#50">5.0</a></h2>
<ul>
<li>
<p>A new <code>/osm/housenumber-stats/whole-country/</code> page featuring new and all-time house number data</p>
</li>
<li>
<p>A new <code>cherry.py</code> glue layer to help running on top of CherryPy</p>
</li>
<li>
<p>gh#380 the validator now catches strings which are
not valid items in an <code>invalid:</code> string list</p>
</li>
<li>
<p>gh#363 next to letter suffixes (42/a), now digit
suffixes are also accepted (42/1). Both are still limited to a single-char suffix (2020-03-23)</p>
</li>
</ul>
<h2 id="40"><a class="header" href="#40">4.0</a></h2>
<ul>
<li>
<p>gh#344 next to the existing &quot;txt&quot; output, a new
&quot;chkl&quot; output is available for missing house numbers of a relation, providing a plain text
checklist. (2020-03-07)</p>
</li>
<li>
<p>yaml files are now parsed build-time to improve performance (main page loads 7 times faster)</p>
</li>
<li>
<p>complete line coverage for the cron code, which was the last uncovered module</p>
</li>
</ul>
<h2 id="30"><a class="header" href="#30">3.0</a></h2>
<ul>
<li>complete test coverage for the wsgi code</li>
</ul>
<h2 id="20"><a class="header" href="#20">2.0</a></h2>
<ul>
<li>
<p>gh#322 alias names are now supported for relations,
so compatibility (with existing bookmarks) does not break when renaming. (2019-01-10)</p>
</li>
<li>
<p>gh#291 added error handling for not valid relation
names. (2019-12-12)</p>
</li>
<li>
<p>gh#285: HTML output uses 42/A style for
letter-suffixed house numbers, but plain text output uses 42a to help turning the output into
<code>invalid</code> configs. (2019-12-06)</p>
</li>
<li>
<p>gh#267: it is now possible to opt in for a more
strict behavior where 42/B is not considered mapped when 42/A is already mapped. (2019-11-29)</p>
</li>
<li>
<p>gh#269: noise in the reference can be now cleaned by
filtering out house numbers explicitly, rather than filtering for valid ranges. (2019-11-15)</p>
</li>
<li>
<p>gh#195: track what source range generated what house
numbers for more compact results. (2019-11-10)</p>
</li>
<li>
<p>gh#224: a way to generate the gpx of all streets
missing house numbers. (2019-10-31)</p>
</li>
<li>
<p>gh#237: make OSM IDs of existing house numbers
clickable. (2019-10-22)</p>
</li>
<li>
<p>gh#228: added time internal hint when the overpass
query errors out due to not waiting enough. (2019-10-12)</p>
</li>
<li>
<p>gh#204: added possibility to list certain
reftelepules names when a specific refmegye is selected on the main page. (2019-10-09)</p>
</li>
</ul>
<h2 id="10"><a class="header" href="#10">1.0</a></h2>
<ul>
<li>Initial release</li>
</ul>
<p>Enhancements up to 2019-10-07 were presented at <a href="https://www.meetup.com/OpenStreetMap-Hungary/">https://www.meetup.com/OpenStreetMap-Hungary/</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="hacking.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="contributors.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="hacking.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="contributors.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="matomo.js"></script>


    </div>
    </body>
</html>
