<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>plees-tracker user guide</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="usage.html"><strong aria-hidden="true">2.</strong> Usage</a></li><li class="chapter-item expanded "><a href="hacking.html"><strong aria-hidden="true">3.</strong> Development notes</a></li><li class="chapter-item expanded "><a href="news.html"><strong aria-hidden="true">4.</strong> Changelog</a></li><li class="chapter-item expanded "><a href="contributors.html"><strong aria-hidden="true">5.</strong> Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">plees-tracker user guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>plees-tracker is a simple sleep tracker for your Android phone.</p>
<p>The latest version is v24.8.0, released on 2024-08-01.</p>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<p>This is meant to be a simple open source sleep tracker, allowing to track sleep start/stop times and count the average / day.</p>
<p>Features:</p>
<ul>
<li>
<p>It literally does nothing while you sleep, causes no battery drain.</p>
</li>
<li>
<p>Stores past sleeps, counts stat from them.</p>
</li>
<li>
<p>Exports/imports sleep data to/from CSV.</p>
</li>
<li>
<p>Can show past sleeps, can selectively delete individual sleeps.</p>
</li>
</ul>
<h2 id="screenshot"><a class="header" href="#screenshot">Screenshot</a></h2>
<p><img src="https://vmiklos.hu/plees-tracker/app/1.png"
    width="360"
    height="640"></p>
<h2 id="contributing"><a class="header" href="#contributing">Contributing</a></h2>
<p>plees-tracker is free and open source. You can view the <a href="https://github.com/vmiklos/plees-tracker">source code</a> and file an <a href="https://github.com/vmiklos/plees-tracker/issues">issue or feature request</a>. If you'd like to contribute, please consider opening a pull request.</p>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>Use of this source code is governed by a BSD-style license that can be found in
the LICENSE file.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<h2 id="building-from-source"><a class="header" href="#building-from-source">Building from source</a></h2>
<p>You can build the code using:</p>
<pre><code class="language-console">./gradlew build
</code></pre>
<p>You can run the tests using:</p>
<pre><code class="language-console">./gradlew test
./gradlew connectedAndroidTest
</code></pre>
<h2 id="installing-a-binary"><a class="header" href="#installing-a-binary">Installing a binary</a></h2>
<p>Get it on F-Droid:</p>
<p><a href="https://f-droid.org/en/packages/hu.vmiklos.plees_tracker/"><img src="https://fdroid.gitlab.io/artwork/badge/get-it-on.png"
     alt="Get it on F-Droid"
     height="80"></a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="usage"><a class="header" href="#usage">Usage</a></h1>
<h2 id="main-activity"><a class="header" href="#main-activity">Main activity</a></h2>
<p>plees-tracker is essentially a stopwatch application. It intentionally requires you to manually
track your sleep with explicitly starting and ending a tracked sleep. This has the benefit that it's
simple: causing no battery drain, nor any privacy problems.</p>
<p>This activity allows:</p>
<ul>
<li>
<p>Seeing the status of the tracking: not yet started, in progress and finished.</p>
</li>
<li>
<p>Dashboard: the number of all tracked sleeps, average of sleep durations (disabled by default) and
a daily average (in case you sleep multiple times a day or you sometimes skip a whole day) for a
customizable duration (see the preferences activity below).</p>
</li>
<li>
<p>A list of past sleeps for the chosen duration: start/stop time for each sleep, awake time and
duration counted from these and a rating you can manually specify after the tracking stopped.
The awake time of the latest sleep depends on the current time, so it'll increase if you restart
plees-tracker.</p>
</li>
<li>
<p>Swiping a sleep left/right will remove the sleep.</p>
</li>
<li>
<p>Tapping on a sleep allows getting to a dedicated sleep activity for a single sleep.</p>
</li>
<li>
<p>A floating action button at the bottom right corner allows to actually start / stop the tracking.</p>
</li>
</ul>
<p>The menu of this activity allows:</p>
<ul>
<li>
<p>Import/export your sleeps to CSV. The start and stop columns are UNIX timestamps in milliseconds.
The import is incremental, i.e. it remembers what items are imported and the next time only newer
items will be imported.</p>
</li>
<li>
<p>Import/export your sleeps to calendar. The export is incremental, i.e. it remembers what items are
exported, and the next time only newer items will be exported.</p>
</li>
<li>
<p>See more stats on your sleeps (see the sleep activity below).</p>
</li>
<li>
<p>Customize settings (see the preferences activity below).</p>
</li>
</ul>
<h2 id="toggle-widget"><a class="header" href="#toggle-widget">Toggle widget</a></h2>
<p>A widget can be added to your home screen. This allows starting or stopping the tracking with a
single tap: i.e. it's the same as opening the app and tapping on the start/stop button.</p>
<h2 id="quick-settings-tile"><a class="header" href="#quick-settings-tile">Quick settings tile</a></h2>
<p>A quick settings tile can be added to your panel. This allows starting or stopping the tracking with
a single tap: i.e. it's the same as opening the app and tapping on the start/stop button.</p>
<h2 id="preferences-activity"><a class="header" href="#preferences-activity">Preferences activity</a></h2>
<h3 id="theme"><a class="header" href="#theme">Theme</a></h3>
<p>This allows manually setting the dark mode for plees-tracker. This is useful on Android versions &lt;=
9, where there is no system-provided dark mode. This works out of the box on newer Android versions.</p>
<h3 id="backup"><a class="header" href="#backup">Backup</a></h3>
<p>Backup settings allow you to automatically back up your sleeps after a tracking stopped. This is
useful in case you selected a path which is then implicitly synchronized to some external server,
e.g. Nextcloud.</p>
<h3 id="dashboard"><a class="header" href="#dashboard">Dashboard</a></h3>
<p>You can also customize the dashboard duration, which limits the sleeps and sleep statistics on the
dashboard and graphs to the time period selected in the main activity. The default is to only show
the past week.</p>
<p>There is also an option to define your ideal sleep length, which is used for some of the graphs (see
Graphs activity below).</p>
<p>The other setting influencing the sleep stats is a sleep start delay. Assuming that one presses
start, followed by 8 hours, then stop, in case a sleep delay of 15 minutes is set, the recorded
sleep length will be 7:45, not 8:00, by increasing the sleep start timestamp.</p>
<p>The 'Show average of sleeps duration' setting is disabled by default and is useful if you always
sleep once a day, but sometimes you forget to track your sleep, still you're interested in the
average of your sleeps.</p>
<p>The 'Show average of daily sums' setting is enabled by default and is useful if you always track
your sleeps, but you may sleep multiple times a day. This will first count the sum of your sleeps
within a day, and count the average of those sums.</p>
<p>The 'Ignore empty days when showing average of daily sums' setting is enabled by default and ignores
empty days when counting the average of daily sums, assuming that you probably just forgot to track
your sleep(s) on that day. If this is not the case and you in fact sometimes skip an entire day,
then disable this setting.</p>
<p>The 'Use median instead of average when counting the daily duration' setting is disabled by default
and uses median instead of average when showing a single duration for the daily sum of several days.
This is less expected, but can be useful in case you filter out e.g. sick days where one may
undersleep or oversleep.</p>
<h3 id="past-sleeps"><a class="header" href="#past-sleeps">Past sleeps</a></h3>
<p>The past sleeps section allow configuring the contents of the individual sleep cards:</p>
<ul>
<li>
<p>awake time is hidden by default</p>
</li>
<li>
<p>the read-only rating is hidden by default on the main activity, the read-write rating is always
visible in the sleep activity</p>
</li>
</ul>
<p>The sleep cards are not re-created when changing settings, so you need to restart plees-tracker to
see the effect.</p>
<h3 id="do-not-disturb-when-tracking"><a class="header" href="#do-not-disturb-when-tracking">Do not disturb when tracking</a></h3>
<p>This option enables automatic activation of DND (Do Not Disturb) mode when you start tracking your sleep. When toggled on for the first time, you will be prompted to grant Plees Tracker permissions to modify DND settings.</p>
<p>Upon ceasing sleep tracking, the DND setting you had enabled prior to initiating the tracking will be restored.</p>
<h2 id="sleep-activity"><a class="header" href="#sleep-activity">Sleep activity</a></h2>
<p>The sleep activity allows modifying the start,  stop time or rating of a single recorded sleep,
which is useful if you want to update the recorded timestamps to better match reality.</p>
<p>You can also take a multi-line plain text note for the sleep there.</p>
<h2 id="stats-activity"><a class="header" href="#stats-activity">Stats activity</a></h2>
<p>The main activity considers all sleeps for the selected duration when counting the sleeps or when
calculating the 2 kind of averages for your sleeps. The stats activity provides the same stats for
all possible durations, specifically:</p>
<ul>
<li>
<p>last week</p>
</li>
<li>
<p>last two weeks</p>
</li>
<li>
<p>last month</p>
</li>
<li>
<p>last year</p>
</li>
<li>
<p>all time</p>
</li>
</ul>
<h2 id="graphs-activity"><a class="header" href="#graphs-activity">Graphs activity</a></h2>
<p>The graphs activity provides an alternative way to analyze your sleep data. Currently, the following
graphs are provided (select the graph via the menu in the upper right):</p>
<ul>
<li>
<p>Deficit/surplus: This graph shows the difference between the ideal sleep length (as customized in
settings) versus the actual hours slept per day - positive is surplus, negative is deficit - along
with a cumulative total.</p>
</li>
<li>
<p>Length: This graph shows the hours slept per day, along with a cumulative moving average.</p>
</li>
<li>
<p>Start time: This graph shows the start time of the first sleep per day (where day is based on the
date of the sleep's ending time), along with a cumulative moving average.</p>
</li>
<li>
<p>Rating: This graph shows the user-provided rating of the sleeps per day, along with a cumulative
moving average. Note that no rating counts as 0.</p>
</li>
<li>
<p>Variance: This graph shows the statistical variance and standard deviation of your daily sleep
lengths. The more similar sleep lengths you get, the lower the variance will be. The variance
units are hours squared and the standard deviation units are hours.</p>
</li>
</ul>
<p>The graphs are generated based on sleeps within the selected dashboard duration.</p>
<h2 id="credits"><a class="header" href="#credits">Credits</a></h2>
<p>Icons made by <a href="https://www.flaticon.com/authors/dave-gandy">Dave Gandy</a> and
<a href="https://www.flaticon.com/authors/freepik">Freepik</a> from
<a href="https://www.flaticon.com/">Flaticon</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-notes"><a class="header" href="#development-notes">Development notes</a></h1>
<h2 id="coding-style"><a class="header" href="#coding-style">Coding style</a></h2>
<ul>
<li>
<p>Prefer initializing properties inline over spelling them out in a separate <code>init {</code> block.</p>
</li>
<li>
<p>Use annotations (<code>@Foo</code>) only when it makes the code easier to read.</p>
</li>
<li>
<p>Prefer references (<code>Foo</code>) over nullable references (<code>Foo?</code>).</p>
</li>
<li>
<p>Prefer variable names which are not keywords over working the problem around with backticks
('<code>is</code>').</p>
</li>
<li>
<p>Prefer constructs like <code>foo?.let {</code> over non-null assertions (<code>!!</code>).</p>
</li>
</ul>
<h2 id="complex-parts-of-the-app"><a class="header" href="#complex-parts-of-the-app">Complex parts of the app</a></h2>
<p>The app code is quite simple, this is just fancy stopwatch after all. But some parts are nontrivial:</p>
<ul>
<li>
<p>Making sure that the timer doesn't stop, by launching a proper background service was hard to
figure out.</p>
</li>
<li>
<p>The icon was surprisingly challenging to add, mostly because every SVG editor will just scale your
image, but exactly scaling is ignored by Android Studio's SVG import.</p>
</li>
<li>
<p>The recycler view was tricky to set up: most examples are overcomplicated, when really what was
needed here is just an adapter and a holder class.</p>
</li>
</ul>
<h2 id="kotlin"><a class="header" href="#kotlin">Kotlin</a></h2>
<p>If you are used to Java, then not spelling out type names all over the place is confusing in Kotlin.
See
<a href="https://stackoverflow.com/questions/54851861/how-do-i-activate-type-annotations-hints-in-kotlin-like-depicted">https://stackoverflow.com/questions/54851861/how-do-i-activate-type-annotations-hints-in-kotlin-like-depicted</a>
on how to let Android Studio show these types for you without polluting the code.</p>
<h2 id="debugging"><a class="header" href="#debugging">Debugging</a></h2>
<p>You are supposed to go via the Android logging framework, one possible (temporary, local) debug
printf:</p>
<pre><code class="language-kotlin">Log.e(TAG, &quot;debug, myFunc: myVar is &quot; + myVar)
</code></pre>
<p>This way it stands out from the stock debug messages when you filter for <code>package:mine</code> in the
Logcat tab in Android Studio.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="changelog"><a class="header" href="#changelog">Changelog</a></h1>
<h2 id="master"><a class="header" href="#master">master</a></h2>
<ul>
<li>Resolves: gh#506 dark mode: reduce contrast of colors</li>
</ul>
<h2 id="2480"><a class="header" href="#2480">24.8.0</a></h2>
<ul>
<li>Fix the default for the compact view (was meant to be disabled)</li>
</ul>
<h2 id="2425"><a class="header" href="#2425">24.2.5</a></h2>
<ul>
<li>Resolves: gh#474 don't require app restart when changing the <code>use_median</code> setting</li>
</ul>
<h2 id="2424"><a class="header" href="#2424">24.2.4</a></h2>
<ul>
<li>Resolves: gh#437 add option to use median instead of average</li>
</ul>
<h2 id="2423"><a class="header" href="#2423">24.2.3</a></h2>
<ul>
<li>Resolves: gh#436 show zero time instead of empty text without sleeps</li>
</ul>
<h2 id="2422"><a class="header" href="#2422">24.2.2</a></h2>
<ul>
<li>Resolves: gh#455 main activity: fix missing update after changing the rating of a sleep</li>
<li>add 30/45/60minutes to &quot;Start time delay&quot; option (k3dar)</li>
<li>Czech localization added (k3dar)</li>
</ul>
<h2 id="2421"><a class="header" href="#2421">24.2.1</a></h2>
<ul>
<li>Resolves: gh#419 add optional do not disturb mode integration (Mason Fisher)</li>
</ul>
<h2 id="2420"><a class="header" href="#2420">24.2.0</a></h2>
<ul>
<li>sleep activity: handle the 'compact view' setting</li>
<li>switched version scheme to <a href="https://calver.org/">CalVer</a> to match reality</li>
</ul>
<h2 id="765"><a class="header" href="#765">7.6.5</a></h2>
<ul>
<li>Fix no action on pressing the back button on the action bar</li>
<li>Added Themed / Monochrome Launcher icon support for devices that support it (Sébastien Delord)</li>
</ul>
<h2 id="764"><a class="header" href="#764">7.6.4</a></h2>
<ul>
<li>Target Android 14</li>
</ul>
<h2 id="763"><a class="header" href="#763">7.6.3</a></h2>
<ul>
<li>Resolves: gh#407 fix NetworkOnMainThreadException while importing data from a file, backed by
cloud storage</li>
</ul>
<h2 id="762"><a class="header" href="#762">7.6.2</a></h2>
<ul>
<li>Resolves: gh#388 add variance and standard deviation graphs (Lastaapps)</li>
</ul>
<h2 id="761"><a class="header" href="#761">7.6.1</a></h2>
<ul>
<li>Resolves: gh#406 export to file: avoid reporting success in toast on failure</li>
</ul>
<h2 id="760"><a class="header" href="#760">7.6.0</a></h2>
<ul>
<li>Resolves: gh#366 ignore empty days when counting average of daily sums</li>
</ul>
<h2 id="755"><a class="header" href="#755">7.5.5</a></h2>
<ul>
<li>Resolves: gh#387 dark mode now also uses different colors for the start/stop button</li>
</ul>
<h2 id="754"><a class="header" href="#754">7.5.4</a></h2>
<ul>
<li>Resolves: gh#373 enable editing start and end date+time of a sleep separately (phiiil)</li>
</ul>
<h2 id="753"><a class="header" href="#753">7.5.3</a></h2>
<ul>
<li>Resolves: gh#358 graphs: add a stop time graph</li>
</ul>
<h2 id="752"><a class="header" href="#752">7.5.2</a></h2>
<ul>
<li>Resolves: gh#365 don't toggle tracking state on rotation (quick settings tile)</li>
</ul>
<h2 id="751"><a class="header" href="#751">7.5.1</a></h2>
<ul>
<li>Resolves: gh#359 fix the widget to start/stop tracking to work on Android 12+</li>
</ul>
<h2 id="750"><a class="header" href="#750">7.5.0</a></h2>
<ul>
<li>Resolves: gh#308 main activity: default to showing average of daily sums only</li>
</ul>
<h2 id="745"><a class="header" href="#745">7.4.5</a></h2>
<ul>
<li>Resolves: gh#292 fix lack of toggle from the notification drawer when app is already foreground</li>
</ul>
<h2 id="744"><a class="header" href="#744">7.4.4</a></h2>
<ul>
<li>Resolves: gh#330 main activity: add placeholder text when there are no sleeps</li>
</ul>
<h2 id="743"><a class="header" href="#743">7.4.3</a></h2>
<ul>
<li>Resolves: gh#275 sleep item layout: add dedicated icon for the 'awake for' row</li>
<li>Fixed the tracking notification to work with Android 13</li>
</ul>
<h2 id="742"><a class="header" href="#742">7.4.2</a></h2>
<ul>
<li>Resolves: gh#309 dashboard: hide seconds &amp; timezone by default on the dashboard</li>
</ul>
<h2 id="741"><a class="header" href="#741">7.4.1</a></h2>
<ul>
<li>Resolves: gh#282 lower baseline to API 23 (Android 6.0), covering about 97.4% of devices</li>
</ul>
<h2 id="740"><a class="header" href="#740">7.4.0</a></h2>
<ul>
<li>Resolves: gh#274 add a start time offset</li>
<li>Resolves: gh#298 release builds are now signed even outside F-Droid</li>
</ul>
<h2 id="735"><a class="header" href="#735">7.3.5</a></h2>
<ul>
<li>delete all sleep now confirms before erasing starts</li>
</ul>
<h2 id="734"><a class="header" href="#734">7.3.4</a></h2>
<ul>
<li>Add menu item to delete all sleeps (Ely M)</li>
<li>Resolves: gh#285 main service: fix crash on Android 12</li>
</ul>
<h2 id="733"><a class="header" href="#733">7.3.3</a></h2>
<ul>
<li>Resolves: gh#277 sleep activity: allow multi-line notes</li>
</ul>
<h2 id="732"><a class="header" href="#732">7.3.2</a></h2>
<ul>
<li>Show timezone at sleep start/stop timestamps</li>
<li>Runtime baseline is now API 24 (Android 7.0), still covering more than 80% of devices</li>
</ul>
<h2 id="731"><a class="header" href="#731">7.3.1</a></h2>
<ul>
<li>Resolves: gh#253 fixed sleep activity to allow sleep edits again (Mael Lacour)</li>
</ul>
<h2 id="730"><a class="header" href="#730">7.3.0</a></h2>
<ul>
<li>Resolves: gh#239 it is now possible to comment sleeps</li>
<li>No longer using <code>android:onClick</code>, which is broken on older versions of Android</li>
</ul>
<h2 id="725"><a class="header" href="#725">7.2.5</a></h2>
<ul>
<li>Resolves: gh#208 add separators between sleep items in the main activity</li>
<li>Resolves: gh#209 improved duplicate filtering in the calendar import/export (Jesper Lillqvist)</li>
</ul>
<h2 id="724"><a class="header" href="#724">7.2.4</a></h2>
<ul>
<li>Resolves: gh#207 avoid duplicate entries when importing from calendar multiple times</li>
</ul>
<h2 id="723"><a class="header" href="#723">7.2.3</a></h2>
<ul>
<li>Resolves: gh#150 avoid duplicate entries when exporting to calendar multiple times</li>
</ul>
<h2 id="722"><a class="header" href="#722">7.2.2</a></h2>
<ul>
<li>Resolves: gh#178 prevent negative sleep durations</li>
</ul>
<h2 id="721"><a class="header" href="#721">7.2.1</a></h2>
<ul>
<li>Resolves: gh#184 fixed overlapped and blocked texts on main page (yuhuitech)</li>
</ul>
<h2 id="720"><a class="header" href="#720">7.2.0</a></h2>
<ul>
<li>Resolves: gh#161 main activity: make the rating widget read-only</li>
</ul>
<h2 id="715"><a class="header" href="#715">7.1.5</a></h2>
<ul>
<li>Resolves: gh#157 hint that swiping the sleep will delete it</li>
<li>Resolves: gh#162 avoid empty screen when scrolling down in the stats activity (usashiki)</li>
</ul>
<h2 id="714"><a class="header" href="#714">7.1.4</a></h2>
<ul>
<li>Resolves: gh#138 sleep edit / delete: handle automatic backup</li>
</ul>
<h2 id="713"><a class="header" href="#713">7.1.3</a></h2>
<ul>
<li>Resolves: gh#94 Add quick settings tile to start/stop tracking</li>
</ul>
<h2 id="712"><a class="header" href="#712">7.1.2</a></h2>
<ul>
<li>Awake-for and rating property of the sleep card is now hidden by default</li>
</ul>
<h2 id="711"><a class="header" href="#711">7.1.1</a></h2>
<ul>
<li>Resolves: gh#51 add a graphs menu item and activity to chart various stats over time (usashiki)</li>
<li>Resolves: gh#92 add a widget to start/stop tracking with a single stap from the home screen</li>
<li>Display time awake after a sleep on the main screen (Sebastian Zeller)</li>
<li>Resolves: gh#88 Add dashboard duration setting (usashiki)</li>
</ul>
<h2 id="710"><a class="header" href="#710">7.1.0</a></h2>
<ul>
<li>Resolves gh#90 disable auto-backup bool setting when the user refuses to pick an auto-backup
folder</li>
</ul>
<h2 id="705"><a class="header" href="#705">7.0.5</a></h2>
<ul>
<li>Avoid vibration when the sleep notification is created</li>
<li>Resolves: gh#32 ability to automatically backup to a storage folder, to be used with e.g.
Nextcloud</li>
</ul>
<h2 id="704"><a class="header" href="#704">7.0.4</a></h2>
<ul>
<li>Much faster mass-import of sleeps from a previous export result</li>
</ul>
<h2 id="703"><a class="header" href="#703">7.0.3</a></h2>
<ul>
<li>Resolves: gh#41 ability to export events to your calendar (Ed George)</li>
</ul>
<h2 id="702"><a class="header" href="#702">7.0.2</a></h2>
<ul>
<li>Added PT-BR translation (fabianski7)</li>
<li>Tested on Android 11</li>
<li>Removed not needed custom fonts, now using default regular/bold fonts from the system</li>
<li>Resolves: gh#33 main activity: don't delete entry by swiping on the rating bar</li>
<li>Resolves: gh#29 ability to import events from your calendar (Ed George)</li>
</ul>
<h2 id="701"><a class="header" href="#701">7.0.1</a></h2>
<ul>
<li>Fix missing localization of the notification channel's name</li>
<li>Updated appcompat, constraintlayout, material, junit and espress-core to latest versions</li>
</ul>
<h2 id="700"><a class="header" href="#700">7.0.0</a></h2>
<ul>
<li>Resolves: gh#28 it is now possible to rate sleeps</li>
<li>Resolves: gh#7 expand/collapse FAB on scroll</li>
</ul>
<h2 id="64"><a class="header" href="#64">6.4</a></h2>
<ul>
<li>Resolves: gh#27 improve main activity FAB color in dark mode</li>
<li>Added Spannish translation (Diego Sanguinetti)</li>
<li>Resolves: gh#6 next to all-time stats, there are now &quot;last 7 days&quot; and &quot;this year&quot; stats as well</li>
<li>Related: gh#1 Cannot import csv after export, improved fix for less mainstream Android flavors
(Sebastian Zeller)</li>
</ul>
<h2 id="63"><a class="header" href="#63">6.3</a></h2>
<ul>
<li>Resolves: gh#21 daily average now detects completely skipped days</li>
<li>Resolves: gh#20 sleep entries are now being sorted in chronological order (Sebastian Zeller)</li>
<li>Resolves: gh#19 in the sleep edit time picker, use 24 or 12 hour view according to system settings
(Sebastian Zeller)</li>
<li>Resolves: gh#16 support dark mode (martiandolphin)</li>
</ul>
<h2 id="62"><a class="header" href="#62">6.2</a></h2>
<ul>
<li>Resolves: gh#15 export format is now better documented</li>
<li>Resolves: gh#14 main view: sleep counter is now less confusing for multiple sleeps / day</li>
<li>Resolves: gh#13 main view: scroll the content above the recycler view</li>
<li>Resolves: gh#8 main view: the snackbar and the start/stop button doesn't overlap anymore</li>
</ul>
<h2 id="61"><a class="header" href="#61">6.1</a></h2>
<ul>
<li>Resolves: gh#11 use different colors for start and stop</li>
<li>Much improved design (Sanju S)</li>
<li>Resolves: gh#5 Main view: average of daily sum of sleeps is now visible</li>
</ul>
<h2 id="60"><a class="header" href="#60">6.0</a></h2>
<ul>
<li>Main view: the sleep list now has a scrollbar</li>
<li>Sleep view: now shows the ID and has a back button</li>
</ul>
<h2 id="50"><a class="header" href="#50">5.0</a></h2>
<ul>
<li>Resolves: gh#2 Allow the user to manually edit an entry</li>
</ul>
<h2 id="40"><a class="header" href="#40">4.0</a></h2>
<ul>
<li>App metadata now features a screenshot</li>
<li>Added an about dialog to credit used libraries</li>
<li>Now never performing database operations on the main thread</li>
<li>Resolves: gh#1 Cannot import csv after export</li>
</ul>
<h2 id="30"><a class="header" href="#30">3.0</a></h2>
<ul>
<li>Can remember already started (but not yet stopped) sleeps on system restart</li>
<li>Can show duration of each past sleep</li>
<li>Can delete past recorded sleeps selectively</li>
</ul>
<h2 id="20"><a class="header" href="#20">2.0</a></h2>
<ul>
<li>Can import previously exported data</li>
<li>Notification icon is now in sync with the launcher icon</li>
<li>Runtime baseline is now only API 22 (Android 5.1), not API 26 to cover about 80% of devices</li>
</ul>
<h2 id="10"><a class="header" href="#10">1.0</a></h2>
<ul>
<li>Initial release</li>
<li>Can store past sleeps</li>
<li>Can count average duration of them</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributors"><a class="header" href="#contributors">Contributors</a></h1>
<p>Here is a list of the contributors who have helped improving plees-tracker. Big
shout-out to them!</p>
<ul>
<li>Miklos Vajna <a href="mailto:plees-tracker@vmiklos.hu">plees-tracker@vmiklos.hu</a></li>
<li>Jesper Lillqvist <a href="https://github.com/toveri">https://github.com/toveri</a></li>
<li>Sebastian <a href="https://github.com/SebiderSushi">https://github.com/SebiderSushi</a></li>
<li>Diego <a href="https://github.com/sguinetti">https://github.com/sguinetti</a></li>
<li>Sanju S <a href="https://github.com/Spikeysanju">https://github.com/Spikeysanju</a></li>
<li>fabianski7 <a href="https://github.com/fabianski7">https://github.com/fabianski7</a></li>
<li>Yuhui Su <a href="https://github.com/EasyVector">https://github.com/EasyVector</a></li>
<li>martiandolphin <a href="https://github.com/martiandolphin">https://github.com/martiandolphin</a></li>
<li>ELY M. <a href="https://github.com/ELY3M">https://github.com/ELY3M</a></li>
<li>Mael Lacour <a href="https://github.com/Eyap53">https://github.com/Eyap53</a></li>
<li>phiiil <a href="https://github.com/phiiil">https://github.com/phiiil</a></li>
<li>Mason Fisher <a href="https://github.com/MachineThing">https://github.com/MachineThing</a></li>
</ul>
<p>If you feel you're missing from this list, feel free to add yourself in a PR.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="matomo.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
