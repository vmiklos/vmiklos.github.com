= Scripts used in the Python 2.7 rebuild

:slug: scripts-used-in-the-python-2-7-rebuild
:category: frugalware
:tags: en, hacking
:date: 2010-09-24T18:15:46Z

First, I could almost reuse the same set of scripts as described
link:|filename|/2008/scripts-used-in-the-python-2-6-mass-rebu.adoc[here]. The only change I needed
to do is that aborting the build loop after each fail is a waste of time, so now I did:

[source,sh]
----
for i in $(cat ~/test.list)
do
        echo $i
        cd ~/git/python27/source/*/$i || continue
        sudo makepkg -t python27,current -C
        git clean -x -d -f
        git checkout -f
        sed -i 's|python>=2.6|python>=2.7|g' FrugalBuild
        if bumppkg -t python27,current --rebuild "- rebuilt with python-2.7"; then
                repoman -t python27 -k push
        else
                echo $i >> ~/failed.list
        fi
done
----

Then investigated the failed builds manually.

Oh, and obviously I no longer had to build the x86_64/ppc fpms manually, I just enabled syncpkgd for
the python27 WIP repo.
