permalink: new-in-git-1-5-6-git-cvsexportcommit-w
pubdate: 2008-06-14T03:38:47Z
title: new in git-1.5.6: git cvsexportcommit -W
author: Miklos
tags: en, hacking
<<<
++++
git-1.5.6 will be released soon (probably in a few weeks) and there are some interesting news in it.

one of them is the new git cvsimport -W switch which makes it easy to do bi-directional changes between git and cvs.

to set up your local repo:

<pre>$ CVSROOT=$URL cvs co module
$ cd module
$ git cvsimport</pre>

this will do a fresh checkout of the cvs module and will import it to git. you will have two interesting git branch: origin is the "reference" one, you should not touch it, and you can work in master.

you can commit to master, etc.

then there are two tricky operations:

first, you may want to commit back your local commits.

to do this:

<pre>$ for i in $(git rev-list --reverse origin..master)
do
        git cvsexportcommit -W -c -p -u $i
done</pre>

second, you may want to fetch upstream changes and rebase your local changes on top of them:

<pre>$ git cvsimport -i
$ git rebase origin</pre>

that's all.

cookies goes to Dscho in commit <a href="http://git.kernel.org/?p=git/git.git;a=commit;h=d775734c40afed216160437c59a45c93bdf28689">d775734</a>. :)
++++
