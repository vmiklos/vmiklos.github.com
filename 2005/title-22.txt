pubdate: 2005-10-21T20:25:27Z
title: title 22
author: Miklos
tags: en, hacking
<<<
++++
when we build in chroot, we use fakeroot to prevent build() screw up our chroot, so that if we need to install deps, we use sudo to call pacman. also pacman notices that we're in a fakeroot env and will refuse to install pkgs even we're using sudo. so that we should work around this by temporarily unsetting the FAKEROOTKEY env var. also when we restore it, we should <strong>export</strong> it. that's what i've forgot, and that's why currently iputils and samba is broken. it took some time while i've figured out that's why they're broken :)
but now pacman is fixed and only the broken pkgs should be rebuilt
++++
