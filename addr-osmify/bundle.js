!function(){var e,t={exports:{}};e=function(){var e,t=[],n=document,o=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),o=1;e=t.shift();)e()}),function(e){o?setTimeout(e,0):t.push(e)}},t.exports=e();function n(e,t){document.getElementById("output").value="Using overpass-api...";var n=t.lat,o=t.lon,a=t.osm_type,d=t.osm_id,u=new Request(e+"//overpass-api.de/api/interpreter",{method:"POST",body:"[out:json];\n(\n    "+a+"("+d+");\n);\nout body;"});window.fetch(u).then((function(e){return e.json()})).then((function(e){var a=document.getElementById("output");if(null!=(t=e.elements[0])){var d=t.tags["addr:city"],u=t.tags["addr:housenumber"],r=t.tags["addr:postcode"],i=t.tags["addr:street"],c="geo:"+n+","+o+" ("+r+" "+d+", "+i+" "+u+")";(a=document.getElementById("output")).value=c}else a.value="No results from overpass"})).catch((function(e){document.getElementById("output").value="Overpass error: "+e}))}function o(){!function(e,t,n){document.getElementById("output").value="Using nominatim...";var o,a=e+"//nominatim.openstreetmap.org/search.php?",d=new URLSearchParams;d.append("q",t),d.append("format","json"),a+=d.toString(),(o=new Request(a,{method:"GET"}),fetch(o).then((function(e){return e.json()}))).then((function(t){var o=document.getElementById("output");if(0!=t.length){if(t.length>1){var a=t.filter((function(e){return"building"==e.class}));a.length>0&&(t=a)}var d=t[0];n(e,d)}else o.value="No results from nominatim"})).catch((function(e){document.getElementById("output").value="Nominatim error: "+e}))}("http:"!=location.protocol?"https:":"http:",document.getElementById("nominatim-input").value,n)}(t=t.exports)((function(){var e=document.getElementsByTagName("body")[0],t=document.createElement("p");t.appendChild(document.createTextNode("Takes an nominatim query and turns it into a string that is readable (so that you can save it to your contacts) and is also machine-friendly, e.g. OsmAnd can parse it as well.")),e.appendChild(t);var n=document.createElement("p"),a=document.createElement("input");a.id="nominatim-input",a.type="text",a.placeholder="Query",a.size=64,n.appendChild(a),n.appendChild(document.createTextNode(" "));var d=document.createElement("input");d.type="button",d.value="osmify",d.onclick=o,n.appendChild(d),e.appendChild(n);var u=document.createElement("p");u.appendChild(document.createTextNode("Result: "));var r=document.createElement("input");r.id="output",r.type="text",r.size=64,u.appendChild(r),e.appendChild(u);var i=document.createElement("p");i.appendChild(document.createTextNode("Example query: M\xe9sz\xe1ros utca 58/a, Budapest")),e.appendChild(i);var c=new URLSearchParams(window.location.search).get("query");c&&(a.value=decodeURIComponent(c))}))}();