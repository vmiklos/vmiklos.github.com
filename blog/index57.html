<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/pygments.css">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Miklos Vajna">
  <meta name="description" content="Posts and writings by Miklos Vajna">

  <link href="https://vmiklos.hu/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="What is Miklos hacking RSS" />


  <title>
    What is Miklos hacking
  </title>

<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//analytics.vmiklos.hu/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <h2><a href="https://vmiklos.hu/blog">What is Miklos hacking</a></h2>
      <p></p>
      <ul>
        <li><a href="/" target="_blank">Root</a></li>
        <li><a href="https://planet.documentfoundation.org/" target="_blank">LibreOffice Blogs</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="https://vmiklos.hu/blog">Index</a> &brvbar; <a href="https://vmiklos.hu/blog/archives.html">Archives</a>
      &brvbar; <a href="https://vmiklos.hu/blog/feeds/all.rss.xml">RSS</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/pacman-g2-qt-bug.html">pacman-g2 -Qt bug</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sat 03 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>BMH still feeds me with info, he just found a -Qt bug - fortunately the fix was rather trivial.</p><p>The nontrivial stuff is that he wants callbacks in the Python bindings and it seems that won't be easy. The reason is that - it seems, I don't have a working implementation yet - we'll need the traditional 'void *data' extra parameters in each callback to support that, since we need to store the Python context pointer somewhere.</p><p>Of course first I want to have the whole thing working, before breaking the API with no good reason.</p><p>The whole idea is based on <a href="http://www.nabble.com/Automatically-generated-callbacks-using-directors-(python)-td19239301.html">this</a> post. The provided examples work fine, at least.</p><p>Snip. Dscho mailed me today with a project list about what could I do in Git - the two items are a major merge-recursive rework, the other is about packv4. I could learn a lot with both, my interest is in this order. But that's not yet in coding status, we're just discussing the details ATM.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/pacman-sy-rsync-like-optimization.html">pacman -Sy: rsync-like optimization</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 02 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>This <a href="http://article.gmane.org/gmane.linux.frugalware.devel/5132">came up</a> on the mailing list, and finally resulted in a <a href="http://git.frugalware.org/gitweb/gitweb.cgi?p=pacman-g2.git;a=commitdiff;h=87f094e078f5a7eb2ed22ecd8fe27b30c930590e">commit</a> in pacman-g2.git.</p><p>The idea is to speed up the pacman -Sy operation just like rsync speeds up not re-transferring already sent data.</p><p>Also BMH started to poke me about the bindings privately, so I pushed a few fixes and probably I will continue doing so.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/git-apply-now-uses-parseopt.html">git-apply now uses parseopt</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Thu 01 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>At least if you track git.git's "next" branch. Happy new year! :)</p><p>(<a href="http://git.kernel.org/?p=git/git.git;a=commitdiff;h=f26c4940c4c7942a95058d9aaef7b01967085a60">patch</a>, <a href="http://git.kernel.org/?p=git/git.git;a=commitdiff;h=5dd07c022e9db90ff71223d2228f8129ee5f937c">merge</a>)</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/a-goal-list-for-2oo7.html">A goal list for 2oo7</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Wed 31 December 2008</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>I did it in <a href="http://blogs.frugalware.org/vmiklos/2007/12/31/ten_goals_we_reached_in_2007">2oo7</a> and <a href="http://blogs.frugalware.org/vmiklos/2006/12/31/p276">2oo6</a>, so I did it <a href="http://article.gmane.org/gmane.linux.frugalware.devel/5129">this year</a> as well.</p><p>Writing such a list takes a lot of time, but I think it worth the effort.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/mkpasswd.html">mkpasswd</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Tue 30 December 2008</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>I just noticed that I can ask mkpasswd to not include extra signs (so only [A-Za-z0-9]) in the passwd, and also I can ask it to make it longer, for example:</p><p><pre>
$ mkpasswd -l 18 -s 0
kweufGtytpIj1ds8bw
</pre></p><p>Sadly it's quite useful on broken websites where they bail out with an error when my pass contains a ' or a "...</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/scripts-used-in-the-python-2-6-mass-rebu.html">Scripts used in the Python-2.6 mass rebuild</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 29 December 2008</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 2 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>So here they go.</p><p>First, I needed a list of packages for rebuild:</p><p><pre>
wget -O test.html 'http://frugalware.org/packages/?op=file&amp;srch=usr%2Flib%2Fpython2.5&amp;arch=i686&amp;ver=current'
lynx -dump ./test.html|grep ' [0-9]\+\. \['|sed 's/.*\]\(.*\) .*/\1/' &gt; test.list
</pre></p><p>Then I used the following cycle:</p><p><pre>
git checkout -f; for i in $(cat ~/test.list); do echo $i; cd ~/git/python26/source/*/$i || continue; sudo makepkg -t python2
6,current -C; git clean -x -d -f; sed -i 's|python&gt;=2.5|python&gt;=2.6|g' FrugalBuild; bumppkg -t python26,current --rebuild "-
 rebuilt with python-2.6" || break; repoman -t python26 -k push; done
</pre></p><p>When a build failed, I fixed it up manually and used the following aliases:</p><p><pre>
alias pybuild="sudo makepkg -t python26,current -cu"
alias pypush="repoman -t python26 -k push"
alias pyrec='repoman rec "- rebuilt with python-2.6"'
</pre></p><p>then removed the already built pkgs from the top of test.list and started the for cycle again.</p><p>Once this was done, I did a</p><p><pre>
git grep 'python&gt;=2.5'
</pre></p><p>to ensure everything has &amp;gt=2.6 now (except a few cases where a rebuild was not necessary).</p><p>Syncing on x86_64 was like this:</p><p>I generated the package order with:</p><p><pre>
git log --reverse --no-merges --pretty=oneline master ^origin/master|sed 's/.* \(.*\)-[^-]\+-[^-]\+-i686/\1/' > build.list
</pre></p><p>Then I started a for cycle as well, but now just ignoring the failed builds:</p><p><pre>
git checkout -f; for i in $(cat ~/build.list); do echo $i; cd ~/git/python26/source/*/$i || continue; sudo makepkg -t python26,current -C; git clean -x -d -f; makepkg -dgu; rm -rf src; if sudo makepkg -t python26,current -cu; then repoman -t python26 -k push; else echo $i >> ~/broken.list; fi; done
</pre></p><p>fortunately less then 5% of all pkgs failed.</p><p>OK, that's all.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/python-2-6.html">Python 2.6</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sat 27 December 2008</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>Started to work on a python26 WIP repo. About 400 packages will need a rebuild, so it'll be fun. I'll publish all the needed scripts here when I'm done - though most of them is in a "use once, then trow away" style.</p><p>While waiting for the above scripts, I also started to work on converting git's builtin-apply to parseopt. Ideally it would be trivial, but it really have a lot of options, so probably I won't finish that today, either.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/darcs-fast-export-0-8.html">darcs-fast-export 0.8</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 26 December 2008</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>Whoa, lots of stuff happened.</p><p>darcs-fast-export 0.8 is out and it passes the big-zoo test. (In short AFAIK darcs2git goes to an infinite loop for big repos, the others just produce corrupted results, and d-f-e is the first that can pass that test.)</p><p>I just noticed a bit expensive (since you'll be billed an international fee), but useful sms2irc method, by using <a href="http://www.sms4skype.net/skype/smstoskypeen.asp">sms4skype</a> + bitlbee-skype. :)</p><p>Oh and a trick. We at Frugalware use a hook to update the working dir after every push, so that the new (in git 1.6.1) warning when pushing to a non-bare repo is bogus. The way to disable it is in git-config, manpage, but here it is:</p><p><pre>
git config receive.denycurrentbranch ignore
</pre></p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/frugalware-xmas-logo.html">Frugalware Xmas logo</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Thu 25 December 2008</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>phayz just pushed out a <a href="http://frugalware.org/news/120">special Frugalware logo</a> for Xmas, I like it. :)</p><p>BTW it's interesting, my sister got an English bible and it claims that "to make it easier to read it more fluently and accurately, it's 'anglicised'." Not sure if that's really true, especially that young people like me typically learn a lot of words and expressions from movies and series...</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/frugalware-darcs-repo-in-the-darcs-big-z.html">Frugalware darcs repo in the darcs "big-zoo"</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Wed 24 December 2008</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>"big-zoo" is a collection of darcs repos, the darcs developers do benchmarks using this collection from release to release.</p><p>Recently our old Frugalware repo <a href="http://code.haskell.org/darcs/big-zoo/">has been added</a>, which is good, for multiple reasons.</p><p>First, now I can say that the reference for a good darcs exporter is the big-zoo, our old repo contains weird patches which were not yet part of "big-zoo" so far. Not that I'm evil, but I want to show that currently darcs-fast-export is the only exporter that can correctly convert all the repos in "big-zoo".</p><p>Second, it is a huge repo, so developers can how see the corner cases where darcs is really slow for a huge repo - though the GHC one was already included which is almost as big as our one and the most annoying cases are already optimized recently. (No, of course I can't compare it to git, I compare it to darcs-1.x.)</p>
</div>
</div>

  </div>
</article>

<footer>
<div id="paginator">
<a href="https://vmiklos.hu/blog/index58.html" class="button_accent">&larr; Older Posts</a>

<a href="https://vmiklos.hu/blog/index56.html" class="button_accent">Newer Posts &rarr;</a>
</div>
</footer>

    <div id="ending_message">
      <p>&copy; Miklos Vajna. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>