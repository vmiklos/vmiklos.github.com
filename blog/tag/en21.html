<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/pygments.css">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Miklos Vajna">
  <meta name="description" content="Posts and writings by Miklos Vajna">

  <link href="https://vmiklos.hu/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="What is Miklos hacking RSS" />


  <title>
    What is Miklos hacking
&ndash; Tag: en  </title>

<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//analytics.vmiklos.hu/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <h2><a href="https://vmiklos.hu/blog">What is Miklos hacking</a></h2>
      <p></p>
      <ul>
        <li><a href="/" target="_blank">Root</a></li>
        <li><a href="https://planet.documentfoundation.org/" target="_blank">LibreOffice Blogs</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="https://vmiklos.hu/blog">Index</a> &brvbar; <a href="https://vmiklos.hu/blog/archives.html">Archives</a>
      &brvbar; <a href="https://vmiklos.hu/blog/feeds/all.rss.xml">RSS</a>
&gt; Tag: en
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/duplex-printing.html">Duplex printing</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Thu 08 December 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>This will be similar to my <a href="https://vmiklos.hu/blog/mysql.html">mysql</a> post.</p></div>
<div class="paragraph"><p>In case you do duplex printing, select:</p></div>
<div class="ulist"><ul>
<li>
<p>
long side: in general
</p>
</li>
<li>
<p>
short side: if the PDF already contains a 2 pages per sheet
</p>
</li>
</ul></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/patience-please.html">Patience, please!</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 28 November 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>So Lennart already had
<a href="http://0pointer.de/blog/projects/hinter-den-kulissen.html">great slides</a> about
what is the preferred attitude when you&#8217;re hacking Free Software (don&#8217;t expect
gratefulness &amp;&amp; be grateful), but recently there was such a great example, I
wanted to mention it. :)</p></div>
<div class="paragraph"><p>So I saw there is a new etckeeper release and I checked its changelog,
<a href="http://joey.kitenet.net/code/etckeeper/#code-etckeeper-news-version-0.58.default">mentioning
me</a>. What the hell? I didn&#8217;t contribute anything to that project in the past 3
years! It turned out it was a patch that was considered "too new" at that time,
but now got merged. ;) Remember, if you contribute, usually integration takes
much less time, so no need to whine about it.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/gammu2gcontacts.html">From gammu to Google Contacts</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Thu 24 November 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>One typical migration people do when changing phones is migration of contacts
and calendar items. In case of mine, this is about migrating data from an S40
phone to Google apps, where every smartphone can sync from.</p></div>
<div class="paragraph"><p>Migrating calendar items is easy: gammu can save the data from the phone to a
<code>.ics</code> file and Google Calendar can just import that.  The situation is a bit
harder for the phonebook, as Google Contacts would take a <code>.csv</code>, while gammu
as its own ini-like format for storing this data.</p></div>
<div class="paragraph"><p>I already found <a href="http://dblaci.hu/wammu2csv.pl">a script</a> doing something
similar, but the result was unusable. ;) Given that the whole task is not that
complex, I decided to write my own converter, available
<a href="https://github.com/vmiklos/vmexam/blob/master/gammu/gammu2gcontacts">here</a>.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/gmane-scm-reply.html">Replying to SCM commits using Gmane</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 21 November 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>SCM commit mailing lists are handy in case you want to comment others' commits
in an email. OTOH they are problematic, as they generate a lot of mails, and in
case I subscribe to the list, usually I don&#8217;t read those commits at all. (In
case you have time to read them, that&#8217;s a different use case.)</p></div>
<div class="paragraph"><p>So here is an example how to reply properly&#8201;&#8212;&#8201;without having to subscribe.</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://search.gmane.org/search.php?group=gmane.comp.documentfoundation.libreoffice.scm&amp;query=b863767bd1ddc2af18900fa1df0cd61ef2fa6edb">search</a>
  for the commit ID you want to comment (here b863767bd1ddc2af18900fa1df0cd61ef2fa6edb)
</p>
</li>
<li>
<p>
extract the article ID associated to the push from the link (here 1643)
</p>
</li>
<li>
<p>
<a href="http://download.gmane.org/gmane.comp.documentfoundation.libreoffice.scm/1643/1644">download</a>
  the article in mbox format, so you can reply to it from mutt (or your other
favorite MUA).
</p>
</li>
</ul></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/first-opensuse-contribution.html">First openSUSE contribution</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 04 November 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>More than 3 years ago I
<a href="http://video.google.com/videoplay?docid=-8129703727993942585">gave</a> a
talk on Frugalware, and part of that was a comparison to various other
distributions, including SUSE. My argument against SUSE was its
closed development process.</p></div>
<div class="paragraph"><p>Times change, earlier this year they even
<a href="http://news.opensuse.org/2011/05/26/opensuse-renames-obs/">renamed</a> their
build system to signal its open nature.</p></div>
<div class="paragraph"><p>I wanted to try it out how open they are so I made an experiment.</p></div>
<div class="paragraph"><p>First, I created a
<a href="https://build.opensuse.org/package/show?package=cpm&amp;project=home%3Avmiklos">cpm</a>
package in OBS to get familiar with the packaging process a bit. (Note
that anyone can just register and use the build system to share their
binaries-- sadly we don&#8217;t have resources in Frugalware to provide
something similar.) Then I happily noticed that their mutt package
already contains my favorite sidebar patch, though the edge of the
sidebar looked <a href="http://vmiklos.hu/pic/mutt-old.png">awful</a>. So on Monday I
mailed the maintainer of the mutt pkg if he would take a patch,
<a href="http://vmiklos.hu/pic/mutt-new.png">fixing</a> this issue.  I got a positive
reply today, submitted a
<a href="https://build.opensuse.org/request/show/90126">patch</a> and in minutes it
got accepted.</p></div>
<div class="paragraph"><p>So it looks like they are really open, which is just cool. :)</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/libreoffice-conference-2011.html">LibreOffice Conference 2011</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Wed 19 October 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="http://conference.libreoffice.org/themes/libo/images/LibO_Conference_Logo_2011Paris_color.png" alt="http://conference.libreoffice.org/themes/libo/images/LibO_Conference_Logo_2011Paris_color.png" />
</div>
</div>
<div class="paragraph"><p>I&#8217;ve been invited to the first LibreOffice conference in Paris to give a
short talk about this year&#8217;s GSoC work of mine: the RTF import rewrite
in Writer.
(<a href="http://people.freedesktop.org/~vmiklos/rtfimport-libocon-paris-2011.odp">Here</a>
are the slides.)</p></div>
<div class="paragraph"><p>It also allowed me to allocate some time on hacking, including:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://libwpd.git.sourceforge.net/git/gitweb.cgi?p=libwpd/libwpd-bindings;a=summary">libwpd-binding
  patches</a>
</p>
</li>
<li>
<p>
an
  <a href="https://gitorious.org/ixion/ixion/commit/6ee652ce1d5c0733f5c958ee870b7fd5729090f5">ixion</a> documentation fix
</p>
</li>
<li>
<p>
an
  <a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=ee2e2a1f5255797f4b4f4c127cf7e82fc44fb541">rtf crasher</a>
</p>
</li>
<li>
<p>
a
  <a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=4456143b68c5093ca558579e9bc90cd3dd49cab1">fix</a> for the issue pointed out by Andras in po2lo
</p>
</li>
</ul></div>
<div class="paragraph"><p>Thank you for the invitation, it was great fun!</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/userspace-boot-speed.html">Userspace boot speed: less than a second</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sat 24 September 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>I did not care about boot speed for a long time, since servers usually
restarted only for kernel upgrades, laptops suspend to ram all the time,
and I have no desktop machine at home for years now.  Though one use
case started to motivate me recently: I use virtual machines a lot, and
waiting for them to boot up is boring.</p></div>
<div class="paragraph"><p>So I looked at the <code>systemd-analyze blame</code> output, and it turned out
that for a base-only install the only service that takes a lot of time
is <code>netconfig</code>. It&#8217;s because it was a <code>oneshot</code> service, so the whole
boot process waited for <code>dhcpcd</code> to get an IP. A much better solution is
to just start netconfig in the background and move on&#8201;&#8212;&#8201;and that&#8217;s
exactly frugalwareutils in git does now.</p></div>
<div class="paragraph"><p>Before:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ systemd-analyze
Startup finished in 2030ms (kernel) + 1166ms (initrd) + 6755ms (userspace) = 9953ms</code></pre>
</div></div>
<div class="paragraph"><p>After:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ systemd-analyze
Startup finished in 2039ms (kernel) + 1146ms (initrd) + 892ms (userspace) = 4079ms</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Again, this is for a virtual machine (where the host has some IO
cache) and for a base-only install.</td>
</tr></table>
</div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lo-l10n-build-speedup.html">Speeding up build with a lot languages enabled</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sun 18 September 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>When we got back from Munich, Andras had an idea what is the current
bottleneck with the build when there are a lot of languages enabled, and
it was the <code>po2oo</code> script, which is part of <code>translate-toolkit</code>.</p></div>
<div class="paragraph"><p>First I tried to optimize that script, but then I tried to do the same
gettext-to-SDF conversion from scratch, without using that framework at
all, and it seems that caused a
<a href="http://article.gmane.org/gmane.comp.documentfoundation.libreoffice.devel/16491">drastic
speedup</a>.</p></div>
<div class="paragraph"><p>There were a few iterations, but now the
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=1fff8f2576faf3faa141471790ff5d18e0740b0d">two</a>
<a href="http://cgit.freedesktop.org/libreoffice/translations/commit/?id=7e0aa0d881f50c9d8fa5c94249e5f892f3725b22">patches</a>
are in master, along with a fix in
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=47a8454f5f76030203ce6458cf63d4348bdacffe">fast_merge.pl</a>,
which was there since at least commit 654810b (2009-06-17). ;)</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lo-hackfest-2011.html">Thanks for the Hackfest</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 05 September 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="http://vmiklos.hu/pic/hackfest2011.png" alt="http://vmiklos.hu/pic/hackfest2011.png" />
</div>
</div>
<div class="paragraph"><p>We were in Munich during this weekend, and I think all of us had great
fun, kudos go to the organizers! If you are curious, there is a growing
<a href="http://wiki.documentfoundation.org/Hackfest2011#Achievements">list</a> of
features implemented during the event.</p></div>
<div class="paragraph"><p>Update: Oh, and I forgot to mention that we (Andras and me) especially
thank the <a href="http://fsf.hu/">FSF.hu</a> foundation for funding our travel!</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/rtf-font-table.html">Positions in RTF font tables</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 26 August 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>Tonight I worked on
<a href="https://bugs.freedesktop.org/show_bug.cgi?id=39337">fdo#39337</a>, and while
the writerfilter-based RTF import filter almost handled the document in
question correctly, the fonts were not correct.</p></div>
<div class="paragraph"><p>It turned out that this was caused by the fact that RTF&#8217;s font table (a
table where each row has an ID and it contains the font name, charset
and other properties) does not require continuous ID&#8217;s (for example
positions 0, 2, 3 are allowed, even if 1 is not set), but dmapper (the
glue layer between the RTF tokenizer and the Writer UNO API) does.</p></div>
<div class="paragraph"><p>I already sent the position of the entry to dmapper, but the position
turned out to be
<a href="http://opengrok.libreoffice.org/xref/core/writerfilter/source/dmapper/FontTable.cxx#157">ignored</a>,
so now I fixed the RTF tokenizer to send continuous ID&#8217;s.</p></div>
<div class="paragraph"><p>A related improvement is that I just discovered the
<code>writerfilter::TagLogger::unoPropertySet()</code> method, which can dump the
properties of an UNO object, and now I&#8217;ve
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=120003152826b7450bbf384a9633c83dda4782c7">enabled</a>
dumping of shape properties, which can help a lot when something goes
wrong there.</p></div>
</div>
</div>

  </div>
</article>

<footer>
<div id="paginator">
<a href="https://vmiklos.hu/blog/tag/en22.html" class="button_accent">&larr; Older Posts</a>

<a href="https://vmiklos.hu/blog/tag/en20.html" class="button_accent">Newer Posts &rarr;</a>
</div>
</footer>

    <div id="ending_message">
      <p>&copy; Miklos Vajna. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>