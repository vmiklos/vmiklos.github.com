<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/pygments.css">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Miklos Vajna">
  <meta name="description" content="Posts and writings by Miklos Vajna">

  <link href="https://vmiklos.hu/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="What is Miklos hacking RSS" />


  <title>
    What is Miklos hacking
&ndash; Tag: en  </title>

<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//analytics.vmiklos.hu/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <h2><a href="https://vmiklos.hu/blog">What is Miklos hacking</a></h2>
      <p></p>
      <ul>
        <li><a href="/" target="_blank">Root</a></li>
        <li><a href="https://planet.documentfoundation.org/" target="_blank">LibreOffice Blogs</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="https://vmiklos.hu/blog">Index</a> &brvbar; <a href="https://vmiklos.hu/blog/archives.html">Archives</a>
      &brvbar; <a href="https://vmiklos.hu/blog/feeds/all.rss.xml">RSS</a>
&gt; Tag: en
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/libreoffice-conference-2011.html">LibreOffice Conference 2011</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Wed 19 October 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="http://conference.libreoffice.org/themes/libo/images/LibO_Conference_Logo_2011Paris_color.png" alt="http://conference.libreoffice.org/themes/libo/images/LibO_Conference_Logo_2011Paris_color.png" />
</div>
</div>
<div class="paragraph"><p>I&#8217;ve been invited to the first LibreOffice conference in Paris to give a
short talk about this year&#8217;s GSoC work of mine: the RTF import rewrite
in Writer.
(<a href="http://people.freedesktop.org/~vmiklos/rtfimport-libocon-paris-2011.odp">Here</a>
are the slides.)</p></div>
<div class="paragraph"><p>It also allowed me to allocate some time on hacking, including:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://libwpd.git.sourceforge.net/git/gitweb.cgi?p=libwpd/libwpd-bindings;a=summary">libwpd-binding
  patches</a>
</p>
</li>
<li>
<p>
an
  <a href="https://gitorious.org/ixion/ixion/commit/6ee652ce1d5c0733f5c958ee870b7fd5729090f5">ixion</a> documentation fix
</p>
</li>
<li>
<p>
an
  <a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=ee2e2a1f5255797f4b4f4c127cf7e82fc44fb541">rtf crasher</a>
</p>
</li>
<li>
<p>
a
  <a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=4456143b68c5093ca558579e9bc90cd3dd49cab1">fix</a> for the issue pointed out by Andras in po2lo
</p>
</li>
</ul></div>
<div class="paragraph"><p>Thank you for the invitation, it was great fun!</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/userspace-boot-speed.html">Userspace boot speed: less than a second</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sat 24 September 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>I did not care about boot speed for a long time, since servers usually
restarted only for kernel upgrades, laptops suspend to ram all the time,
and I have no desktop machine at home for years now.  Though one use
case started to motivate me recently: I use virtual machines a lot, and
waiting for them to boot up is boring.</p></div>
<div class="paragraph"><p>So I looked at the <code>systemd-analyze blame</code> output, and it turned out
that for a base-only install the only service that takes a lot of time
is <code>netconfig</code>. It&#8217;s because it was a <code>oneshot</code> service, so the whole
boot process waited for <code>dhcpcd</code> to get an IP. A much better solution is
to just start netconfig in the background and move on&#8201;&#8212;&#8201;and that&#8217;s
exactly frugalwareutils in git does now.</p></div>
<div class="paragraph"><p>Before:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ systemd-analyze
Startup finished in 2030ms (kernel) + 1166ms (initrd) + 6755ms (userspace) = 9953ms</code></pre>
</div></div>
<div class="paragraph"><p>After:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>$ systemd-analyze
Startup finished in 2039ms (kernel) + 1146ms (initrd) + 892ms (userspace) = 4079ms</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Again, this is for a virtual machine (where the host has some IO
cache) and for a base-only install.</td>
</tr></table>
</div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lo-l10n-build-speedup.html">Speeding up build with a lot languages enabled</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sun 18 September 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>When we got back from Munich, Andras had an idea what is the current
bottleneck with the build when there are a lot of languages enabled, and
it was the <code>po2oo</code> script, which is part of <code>translate-toolkit</code>.</p></div>
<div class="paragraph"><p>First I tried to optimize that script, but then I tried to do the same
gettext-to-SDF conversion from scratch, without using that framework at
all, and it seems that caused a
<a href="http://article.gmane.org/gmane.comp.documentfoundation.libreoffice.devel/16491">drastic
speedup</a>.</p></div>
<div class="paragraph"><p>There were a few iterations, but now the
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=1fff8f2576faf3faa141471790ff5d18e0740b0d">two</a>
<a href="http://cgit.freedesktop.org/libreoffice/translations/commit/?id=7e0aa0d881f50c9d8fa5c94249e5f892f3725b22">patches</a>
are in master, along with a fix in
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=47a8454f5f76030203ce6458cf63d4348bdacffe">fast_merge.pl</a>,
which was there since at least commit 654810b (2009-06-17). ;)</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lo-hackfest-2011.html">Thanks for the Hackfest</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 05 September 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="http://vmiklos.hu/pic/hackfest2011.png" alt="http://vmiklos.hu/pic/hackfest2011.png" />
</div>
</div>
<div class="paragraph"><p>We were in Munich during this weekend, and I think all of us had great
fun, kudos go to the organizers! If you are curious, there is a growing
<a href="http://wiki.documentfoundation.org/Hackfest2011#Achievements">list</a> of
features implemented during the event.</p></div>
<div class="paragraph"><p>Update: Oh, and I forgot to mention that we (Andras and me) especially
thank the <a href="http://fsf.hu/">FSF.hu</a> foundation for funding our travel!</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/rtf-font-table.html">Positions in RTF font tables</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 26 August 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>Tonight I worked on
<a href="https://bugs.freedesktop.org/show_bug.cgi?id=39337">fdo#39337</a>, and while
the writerfilter-based RTF import filter almost handled the document in
question correctly, the fonts were not correct.</p></div>
<div class="paragraph"><p>It turned out that this was caused by the fact that RTF&#8217;s font table (a
table where each row has an ID and it contains the font name, charset
and other properties) does not require continuous ID&#8217;s (for example
positions 0, 2, 3 are allowed, even if 1 is not set), but dmapper (the
glue layer between the RTF tokenizer and the Writer UNO API) does.</p></div>
<div class="paragraph"><p>I already sent the position of the entry to dmapper, but the position
turned out to be
<a href="http://opengrok.libreoffice.org/xref/core/writerfilter/source/dmapper/FontTable.cxx#157">ignored</a>,
so now I fixed the RTF tokenizer to send continuous ID&#8217;s.</p></div>
<div class="paragraph"><p>A related improvement is that I just discovered the
<code>writerfilter::TagLogger::unoPropertySet()</code> method, which can dump the
properties of an UNO object, and now I&#8217;ve
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=120003152826b7450bbf384a9633c83dda4782c7">enabled</a>
dumping of shape properties, which can help a lot when something goes
wrong there.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/bitlbee-skype-merge.html">bitlbee-skype is now merged</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sun 24 July 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="http://bitlbee.org/style/logo.png" alt="http://bitlbee.org/style/logo.png" />
</div>
</div>
<div class="paragraph"><p>Back in April I had the idea to merge my <code>bitlbee-skype</code> plugin to the
main BitlBee project. The reason is simple: BitlBee does not really have
plugins (basically my Skype plugin was the only one) and because of
this, ABI compatibility was not guaranteed, so I usually had to rebuild
or even fix it after each BitlBee release (though Wilmer was helpful in
case I was in doubt). Today this is all past, the plugin is
<a href="http://bugs.bitlbee.org/bitlbee/changeset/devel%2C802">part of the main
BitlBee repo</a> I won&#8217;t make separate <code>bitlbee-skype</code> releases anymore. (Latest
version of the code is
<a href="http://code.bitlbee.org/lh/bitlbee/files/head:/protocols/skype/">here</a>, bzr info
<a href="http://code.bitlbee.org/bitlbee/">here</a>.)</p></div>
<div class="paragraph"><p>I&#8217;m quite happy this little piece of software did not get lost, but now
is in the hands of an active maintainer again. :) If you need help with
BitlBee, ask on #bitlbee, at irc.oftc.net.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/libreoffice-3.4-packaging.html">LibreOffice 3.4 Packaging</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Wed 04 May 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>The next major LibreOffice version, 3.4, means some work for (Linux
distribution, and other) packagers, as the <code>build</code> repo is now
deprecated and packagers are suggested to use the <code>bootstrap</code> repo
directly, which is a different build system.</p></div>
<div class="paragraph"><p>On one hand, this is a nice cleanup - there is now a single configure
script. OTOH this needs major rework of distro build scripts.</p></div>
<div class="paragraph"><p>The interesting part here is that the official binary installers are not
using the <code>make DESTDIR=/some/path install</code> method to install the
compiled binaries, so it was discovered quite late that it wasn&#8217;t
working properly. First Hanno and Petr
<a href="http://cgit.freedesktop.org/libreoffice/bootstrap/commit/?id=c612724331a3d66d2ee488d91161a54f4d3576bd">worked
on this</a>, then I
<a href="http://cgit.freedesktop.org/libreoffice/bootstrap/commit/?id=b9dd2241c60635ba15929ffad9962928460bd3ec">fixed</a>
a minor, but blocking glitch.</p></div>
<div class="paragraph"><p>As a result 3.4 beta4 will be something packagers (even the ones not
using the split build) can offer to distro users for testing without
patching. Binaries for Frugalware users
<a href="http://ftp.frugalware.org/pub/other/people/vmiklos/lotesting/frugalware-i686/">here</a>
(i686-only at the moment).</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/gsoc2011-accepted.html">GSoC 2011 - Accepted</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 25 April 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="http://code.google.com/images/GSoC2011_300x200.png" alt="http://code.google.com/images/GSoC2011_300x200.png" />
</div>
</div>
<div class="paragraph"><p>I just got the mail about
<a href="http://www.google-melange.com/gsoc/project/google/gsoc2011/vmiklos/9001">my
LibreOffice proposal</a> got accepted to Google Summer of Code 2011. I&#8217;m
looking forward to an exciting summer. :)</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lo-apply.html">Apply button to style edit dialog in Writer</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 28 March 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="https://lh3.googleusercontent.com/-D-pV0cucPL0/UYduyolR-AI/AAAAAAAACso/zL9Vd2IQgY0/s400/fdo32413.png" alt="https://lh3.googleusercontent.com/-D-pV0cucPL0/UYduyolR-AI/AAAAAAAACso/zL9Vd2IQgY0/s400/fdo32413.png" />
</div>
</div>
<div class="paragraph"><p>LibreOffice 3.4 will have a new
<a href="http://cgit.freedesktop.org/libreoffice/writer/commit/?id=c62b8fc02d9357cea7fd399b173ed5280bf4c53c">feature</a>,
if you edit styles in Writer, then you can test your style changes
without manually closing and opening the style edit dialog again.</p></div>
<div class="paragraph"><p>Do you like this feature? There are still similar
<a href="https://bugs.freedesktop.org/show_bug.cgi?id=32413">remaining dialogs</a> to
improve like this, send in a patch!</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/kde-4.6.html">KDE 4.6 vs hibernate</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sat 26 February 2011</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>We recently merged KDE 4.6 in Frugalware -current and since now it uses
<code>upower</code>, it catches the sleep button of my netbook. The problem is that
it tried to suspend instead of hibernation - what I wanted.</p></div>
<div class="paragraph"><p>The trick is easy, but not really obvious. First, I disabled
suspend/hibernate in
<code>/usr/share/polkit-1/actions/org.freedesktop.upower.policy</code> so that I
can play with this without actually hibernating/suspending the system.</p></div>
<div class="paragraph"><p>Second, I went to System Settings &#8594; Input actions &#8594; Global, selected
"KDE services" and there you can see Suspend and Hibernate as well. Go
to Hibernate, and set a custom shortcut: it will ask if you want to
remove the sleep button from Suspend - the answer is obviously yes.</p></div>
<div class="paragraph"><p>Done!</p></div>
</div>
</div>

  </div>
</article>

<footer>
<div id="paginator">
<a href="https://vmiklos.hu/blog/tag/en25.html" class="button_accent">&larr; Older Posts</a>

<a href="https://vmiklos.hu/blog/tag/en23.html" class="button_accent">Newer Posts &rarr;</a>
</div>
</footer>

    <div id="ending_message">
      <p>&copy; Miklos Vajna. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>