<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Miklos Vajna">
  <meta name="description" content="Posts and writings by Miklos Vajna">

  <link href="https://vmiklos.hu/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="What is Miklos hacking RSS" />

<meta name="keywords" content="">

  <title>
    What is Miklos hacking
&ndash; KVM vs Windows 2003  </title>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24726997-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <h2><a href="https://vmiklos.hu/blog">What is Miklos hacking</a></h2>
      <p></p>
      <ul>
        <li><a href="/" target="_blank">Root</a></li>
        <li><a href="https://planet.documentfoundation.org/" target="_blank">LibreOffice Blogs</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="https://vmiklos.hu/blog">Index</a> &brvbar; <a href="https://vmiklos.hu/blog/archives.html">Archives</a>
      &brvbar; <a href="https://vmiklos.hu/blog/feeds/all.rss.xml">RSS</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/kvm-windows-2003.html">KVM vs Windows 2003</a></h1>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>A few days ago I wanted to try out Windows 2003 (to be used for a task
at the university) in KVM, to be exact using libvirt. First I didn&#8217;t do
any non-intuitive trick, but later it turned out what virtio should be
enabled for the block devices or the whole machine will be slow as hell.
For the records, here is what worked for me:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>wget http://alt.fedoraproject.org/pub/alt/virtio-win/latest/images/bin/virtio-win-1.1.16.vfd
virt-install --name=vmiklos-w2003 --arch=x86_64 --vcpus=1 --ram=2048 \
        --os-type=windows --os-variant=win2k3 --connect=qemu:///system \
        --network network=default \
        --cdrom=/virt/vmiklos-w2003/en_windows_server_2003_with_sp1_enterprise.iso \
        --disk path=/virt/vmiklos-w2003/vmiklos-w2003.img,size=24,bus=virtio \
        --disk path=/virt/vmiklos-w2003/virtio-win-1.1.16.vfd,device=floppy \
        --accelerate --vnc --noautoconsole --keymap=us</code></pre>
</div></div>
<div class="paragraph"><p>When the installer asks if you have a special SCSI driver floppy, ask for it,
then you can select the virtio driver.</p></div>
</div>
</div>

  </div>
  <div class="article_meta">
    <p>Posted on: Fri 01 April 2011</p>
    <p>Category: <a href="https://vmiklos.hu/blog/category/en.html">en</a>
    </p>
  </div>


</article>


    <div id="ending_message">
      <p>&copy; Miklos Vajna. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>