<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/pygments.css">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Miklos Vajna">
  <meta name="description" content="Posts and writings by Miklos Vajna">

  <link href="https://vmiklos.hu/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="What is Miklos hacking RSS" />


  <title>
    What is Miklos hacking
  </title>

<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//analytics.vmiklos.hu/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <h2><a href="https://vmiklos.hu/blog">What is Miklos hacking</a></h2>
      <p></p>
      <ul>
        <li><a href="/" target="_blank">Root</a></li>
        <li><a href="https://planet.documentfoundation.org/" target="_blank">LibreOffice Blogs</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="https://vmiklos.hu/blog">Index</a> &brvbar; <a href="https://vmiklos.hu/blog/archives.html">Archives</a>
      &brvbar; <a href="https://vmiklos.hu/blog/feeds/all.rss.xml">RSS</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/exif-date-sort.html">Sorting photos by date using exif date info</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 11 June 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 2 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>For a family event I received photos from about 6 persons, and wanted to view
all of them, sorted by date. The problem was that the timestamps of the files
were sometimes incorrect, and also in all but one cases the exif timestamp was
incorrect as well (but at least that was consistently incorrect, e.g. all
behind of time by 20 mins, etc.)</p></div>
<div class="paragraph"><p>So first I searched for a photo where a clock is shown, then matched photos by
different authors showing the same action to know the time delta of each
camera. The rest can be scripted: just read the exif info, apply the necessary
time correction based on the camera model, and touch the file with the correct
date. Then any image viewer can show the photos, sorted by date.</p></div>
<div class="paragraph"><p>Here is the script I came up with:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">for</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> <span style="color: #990000">*.</span>jpg
<span style="font-weight: bold"><span style="color: #0000FF">do</span></span>
    <span style="font-style: italic"><span style="color: #9A1900"># 2012:01:01 01:01:01 -&gt; 2012-01-01 01:01:01</span></span>
    <span style="color: #009900">date</span><span style="color: #990000">=</span><span style="color: #009900">$(</span>exiv2 <span style="color: #009900">$i</span> <span style="color: #990000">|</span>grep timestamp<span style="color: #990000">|</span>sed <span style="color: #FF0000">'s/.* : //'</span><span style="color: #990000">|</span>sed <span style="color: #FF0000">'s/^</span><span style="color: #CC33CC">\(</span><span style="color: #FF0000">[0-9][0-9][0-9][0-9]</span><span style="color: #CC33CC">\)</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\(</span><span style="color: #FF0000">[0-9][0-9]</span><span style="color: #CC33CC">\)</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\(</span><span style="color: #FF0000">[0-9][0-9]</span><span style="color: #CC33CC">\)</span><span style="color: #FF0000">/</span><span style="color: #CC33CC">\1</span><span style="color: #FF0000">-</span><span style="color: #CC33CC">\2</span><span style="color: #FF0000">-</span><span style="color: #CC33CC">\3</span><span style="color: #FF0000">/'</span><span style="color: #990000">)</span>
    <span style="font-style: italic"><span style="color: #9A1900"># date string -&gt; epoch</span></span>
    <span style="color: #009900">unix</span><span style="color: #990000">=</span><span style="color: #009900">$(</span>date --date<span style="color: #990000">=</span><span style="color: #FF0000">"$date"</span> <span style="color: #990000">+%</span>s<span style="color: #990000">)</span>

    <span style="color: #009900">model</span><span style="color: #990000">=</span><span style="color: #009900">$(</span>exiv2 <span style="color: #009900">$i</span> <span style="color: #990000">|</span>grep model<span style="color: #990000">|</span>sed <span style="color: #FF0000">'s/.*: //'</span><span style="color: #990000">)</span>

    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">[</span> <span style="color: #FF0000">"$model"</span> <span style="color: #990000">==</span> <span style="color: #FF0000">"NIKON D40"</span> <span style="color: #990000">];</span> <span style="font-weight: bold"><span style="color: #0000FF">then</span></span>
        <span style="color: #009900">unix</span><span style="color: #990000">=</span><span style="color: #009900">$(($unix-1320))</span> <span style="font-style: italic"><span style="color: #9A1900"># Alice</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
        <span style="color: #009900">unix</span><span style="color: #990000">=</span><span style="color: #009900">$(($unix+3600))</span> <span style="font-style: italic"><span style="color: #9A1900"># Bob</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">fi</span></span>

    <span style="font-style: italic"><span style="color: #9A1900"># epoch -&gt; date string</span></span>
    <span style="color: #009900">date</span><span style="color: #990000">=</span><span style="color: #009900">$(</span>python -c <span style="color: #FF0000">"import time; print time.strftime('%Y-%m-%d %H:%M:%S', time.localtime($unix))"</span><span style="color: #990000">)</span>
    <span style="font-style: italic"><span style="color: #9A1900"># profit!</span></span>
    touch --date<span style="color: #990000">=</span><span style="color: #FF0000">"$date"</span> <span style="color: #009900">$i</span>
<span style="font-weight: bold"><span style="color: #0000FF">done</span></span>
<span style="font-style: italic"><span style="color: #9A1900"># write back the timestamps to the exif info (thx boobaa)</span></span>
jhead -dsft <span style="color: #990000">*.</span>jpg</tt></pre></div></div>
<div class="paragraph"><p>And additionally if you don&#8217;t want to mess up the settings of the image viewer, you can use:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>c=0; for i in $(ls -lhtr *.jpg|sed 's/.* //'); do c=$((c+1)); cp -a $i new/$(printf "%03d" $c).jpg; done</code></pre>
</div></div>
<div class="paragraph"><p>to order filenames based on the file timestamp.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/git-notes-merge.html">Merging git notes</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Thu 07 June 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 2 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>The <code>git notes</code> command is really about local annotation of commits&#8201;&#8212;&#8201;nothing
to share. If you decide to still do so, for example the
<a href="http://git-scm.com/2010/08/25/notes.html">git-scm.com</a> HOWTO can show you how to
pull and push them. But what about merging?  There is no UI for that, but&#8201;&#8212;&#8201;given that with git, everything is possible&#8201;&#8212;&#8201;you can still do so manually.</p></div>
<div class="paragraph"><p>So the problem comes when Alice fetches notes, Bob does so, Alice pushes her
notes back, Bob annotates a different commit and when Bob wants to push, he
gets <code>rejected, non-fast-forward</code>. Normally you would merge or rebase in this
situation, but given that <code>git notes</code> by default updates the
<code>refs/notes/commits</code> ref and you typically have a different branch checked out,
you can&#8217;t use <code>git merge</code> or <code>git rebase</code> directly.</p></div>
<div class="paragraph"><p>What works is:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>git checkout refs/notes/commits
git fetch origin refs/notes/commits
git merge FETCH_HEAD
git update-ref refs/notes/commits HEAD
git checkout master</code></pre>
</div></div>
<div class="colist arabic"><ol>
<li>
<p>
Check out the notes, so if you have conflicts, you can resolve them.
</p>
</li>
<li>
<p>
Fetch remote notes to FETCH_HEAD.
</p>
</li>
<li>
<p>
Do the merge.
</p>
</li>
<li>
<p>
Necessary, as <code>git merge</code> won&#8217;t update the ref automatically, since we&#8217;re not on a branch.
</p>
</li>
<li>
<p>
Or whereever you were before.
</p>
</li>
</ol></div>
<div class="paragraph"><p>And now you can push your notes, as detailed in the above referred blog post.
Yes, rebasing would be possible as well, that&#8217;s left as an exercise for the
reader. ;-)</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lo-smartart-sw.html">LibreOffice can now import SmartArt in Writer</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Wed 06 June 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>You may remember that LibreOffice 3.5 learned to
<a href="http://wiki.documentfoundation.org/ReleaseNotes/3.5#Impress_.2F_Draw">import
SmartArt</a> in Impress. In LibreOffice 3.6, the same is now true for Writer:</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<a class="image" href="https://wiki.documentfoundation.org/File:Smartart-sw.png">
<img src="https://wiki.documentfoundation.org/images/thumb/5/56/Smartart-sw.png/448px-Smartart-sw.png" alt="https://wiki.documentfoundation.org/images/thumb/5/56/Smartart-sw.png/448px-Smartart-sw.png" />
</a>
</div>
</div>
<div class="paragraph"><p>Note that just like in Impress, Writer produces far from perfect result if the
prerendered output of the diagram is not present in the document. In practice,
we can open files produced by Word 2010 just fine, but problems with Word 2007
are expected.</p></div>
<div class="paragraph"><p>In case you way to play with this feature, a test document is
<a href="http://cgit.freedesktop.org/libreoffice/core/plain/sw/qa/extras/ooxmltok/data/smartart.docx">available</a>.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/balaton-maraton.html">Balaton Maraton 2012</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sun 03 June 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>Tegnap voltunk idén is a Balaton Maratonon (Tour de Pelso rendezvény
keretében). A táv meglepő módon megegyezik a
<a href="https://vmiklos.hu/blog/balaton-maraton-2011.html">tavalyi</a> értékkel (204 km), GPS log
<a href="http://maps.google.com/?q=http://vmiklos.hu/gps/2012-06-02.kml">erre</a>, hivatalos
eredmények <a href="http://balaton-team.com/index.php/eredmenylista/2012.html">itt</a>.</p></div>
<div class="paragraph"><p>A kmóra ezeket mérte:</p></div>
<div class="ulist"><ul>
<li>
<p>
idő: 9h30m32s
</p>
</li>
<li>
<p>
táv: 220.64 km
</p>
</li>
<li>
<p>
átlag 23.1 km/h
</p>
</li>
<li>
<p>
max 43.5 km/h
</p>
</li>
</ul></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/apatistvanfalva.html">Apátistvánfalva</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 28 May 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 2 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>A múlt hetet <a href="http://www.apatistvanfalva.hu/">Apátistvánfalván</a> töltöttük. Végül
nem kocsival mentünk, így értelemszerűen inkább a közelebbi környéket jártuk
be:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://www.ketvolgy.hu/">Kétvölgy</a>: itt a Vendvidéki Vendégházban próbáltunk
  ebédhez jutni, felettébb furcsállták, hogy hétköznap meleg ételt keresünk, de
  végül kiváló krumplileveshez jutottunk.
</p>
</li>
<li>
<p>
Szentgotthárdon a <a href="http://www.termalpark.hu/">Thermal Spa</a> egy nemrég felhúzott
  termálpark, nem meglepő módon a sok osztrák között inkább a magyar érzi magát
  külföldinek&#8230; de amúgy ötletesen van megoldva, például a kabinhoz használt
  tokennel lehet kaját rendelni az épületen belül, és csak a végén kell fizetni,
  kikerülve ezzel a védetlenül hagyott pénztárcák problémáját.
</p>
</li>
<li>
<p>
<a href="http://www.orfalu.hu/">Orfalu</a>: Na itt a haranglábon kívül nem találtunk
  semmit, cserébe utána ellátogattunk a
  <a href="http://www.harsasto.extra.hu/">Hársas-tóhoz</a>, amit nem bántunk meg, később még
  egyszer visszatértünk ide biciklivel.
</p>
</li>
<li>
<p>
<a href="http://www.oriszentpeter.hu/">Őriszentpéterre</a> bringával mentünk, de végül a
  nap inkább amiatt lett emlékezetes, hogy visszafele megálltunk Pityerszeren
  megnézni a skanzent, illetve megkóstoltuk, mi az a
  <a href="http://hu.wikipedia.org/wiki/D%C3%B6d%C3%B6lle">dödölle</a>.
</p>
</li>
<li>
<p>
Utolsó teljes napunkon elmentünk <a href="http://farkasfa.net3.hu/">Farkasfára</a>
  turistaúton, de sajnos itt (pedig ez már hétvégének számított) semmilyen
  ebédelési lehetőséget nem találtunk, így gyorsan visszatértünk a szállásra.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Szállásadónk az <a href="http://apathotel.hu/hu/">Apát Hotel</a> volt (csütörtökig mi
voltunk az egyetlen vendégek), a turistautakon való navigációhoz meg a
<a href="https://play.google.com/store/apps/details?id=menion.android.locus">Locus</a> volt
segítségünkre.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lok-2012.html">Linux in the Education Conference 2012</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sun 29 April 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<a class="image" href="http://lok.hu/">
<img src="http://lok.hu/images/circle.jpg" alt="http://lok.hu/images/circle.jpg" />
</a>
</div>
</div>
<div class="paragraph"><p>The Hungarian Linux in the Education Conference 2012 was held today @ Budapest,
I held a generic session about LibreOffice
(<a href="https://speakerdeck.com/vmiklos/libreoffice-whats-new-whats-next">slides</a>), also talked a few
guys into submitting Easy Hacks. ;)</p></div>
<div class="paragraph"><p>Other interesting stuff: a free
<a href="http://en.wikipedia.org/wiki/Logo_%28programming_language%29">Logo</a> interpreter
in PyUNO by Laszlo, available <a href="http://numbertext.org/logo/">here</a>.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lo-hackfest-2012.html">Thanks for the Hackfest 2012</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 16 April 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="http://libreoffice.hu/files/2012/04/335px-HHHackfest.png" alt="http://libreoffice.hu/files/2012/04/335px-HHHackfest.png" />
</div>
</div>
<div class="paragraph"><p>We were in Hamburg during this weekend, and I think all of us had great
fun, kudos go to the organizers! If you are curious, here are the topics I
worked on besides mentoring when I was asked to do so:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=0ef7dbc">implemented docx import of even/odd page breaks</a>
</p>
</li>
<li>
<p>
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=8adbd3d">implemented docx import + rtf import/export of the zoom setting</a>
</p>
</li>
<li>
<p>
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=5187174">implemented \bin rtf keyword</a>
</p>
</li>
<li>
<p>
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=fd2cb15">added testcase framework for rtf export</a> (thanks a Markus for helping that!)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Also thanks Stefan for
<a href="http://cgit.freedesktop.org/libreoffice/core/commit/?id=b32ae7f">correcting</a> the
misleading icons of the horizontal/vertical flipping in Writer. ;)</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/opensource-conf.html">OpenSource is the Source of Innovation Conference</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Wed 07 March 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<a class="image" href="https://lh3.googleusercontent.com/-HgWYemjiZdU/T1eWII3DdBI/AAAAAAAABCc/m3ae8b6s3ks/I/20120307_100028.jpg">
<img src="http://vmiklos.hu/pic/20120307_100028.t.jpg" alt="http://vmiklos.hu/pic/20120307_100028.t.jpg" />
</a>
</div>
</div>
<div class="paragraph"><p>We presented TDF on <a href="http://computerworld.hu/konferencia/68">this conference</a>
with Andras today. It was nice to see familar and new faces as well, we turned
some mentioned problems into bugreports and I also
<a href="https://code.launchpad.net/~vmiklos/eoec/barcode-lo34/+merge/96366">fixed</a> the
barcode extension to work again with LibreOffice 3.4+, as requested by a user.</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/tl-wn422gc.html">TL-WN422GC</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sun 26 February 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>The <a href="http://www.tp-link.com/en/products/details/?model=TL-WN422GC">title</a> is a
wireless card usable for desktop machines. Why I can recommend it:</p></div>
<div class="ulist"><ul>
<li>
<p>
It&#8217;s better than those cheap wifi stricks, having a high(er) gain antenna.
</p>
</li>
<li>
<p>
It has proper Linux support. Kernel module name: <code>ath9k_htc</code>, the required
  <code>htc_9271.fw</code> firmware is part of <code>kernel-firmware</code>, so it works out of the
   box on any modern distro.
</p>
</li>
</ul></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/szamarkohoges.html">Szamarkohoges</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Tue 21 February 2012</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<a class="image" href="/pic/szamark.png">
<img src="/pic/szamark.t.png" alt="/pic/szamark.t.png" />
</a>
</div>
</div>
<div class="paragraph"><p>Amugy kolbasz hossza is epp 56 cm. ;)</p></div>
<div class="paragraph"><p>(<a href="http://www.imdb.com/title/tt0092040/">imdb</a>, <a href="http://www.youtube.com/watch?v=75nC9zqUufw">trailer</a>)</p></div>
</div>
</div>

  </div>
</article>

<footer>
<div id="paginator">
<a href="https://vmiklos.hu/blog/index24.html" class="button_accent">&larr; Older Posts</a>

<a href="https://vmiklos.hu/blog/index22.html" class="button_accent">Newer Posts &rarr;</a>
</div>
</footer>

    <div id="ending_message">
      <p>&copy; Miklos Vajna. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>