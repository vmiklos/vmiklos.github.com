<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="https://vmiklos.hu/blog/theme/css/pygments.css">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Miklos Vajna">
  <meta name="description" content="Posts and writings by Miklos Vajna">

  <link href="https://vmiklos.hu/blog/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="What is Miklos hacking RSS" />


  <title>
    What is Miklos hacking
&ndash; Posts by: Miklos Vajna  </title>

<script type="text/javascript">
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//analytics.vmiklos.hu/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <h2><a href="https://vmiklos.hu/blog">What is Miklos hacking</a></h2>
      <p></p>
      <ul>
        <li><a href="/" target="_blank">Root</a></li>
        <li><a href="https://planet.documentfoundation.org/" target="_blank">LibreOffice Blogs</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="https://vmiklos.hu/blog">Index</a> &brvbar; <a href="https://vmiklos.hu/blog/archives.html">Archives</a>
      &brvbar; <a href="https://vmiklos.hu/blog/feeds/all.rss.xml">RSS</a>
&gt; Author: Miklos Vajna
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/clock-runs-way-faster-than-necessary-bug.html">"clock runs way faster than necessary" bug solved</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 23 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>Heh, it took my whole day. So the <a href="http://thread.gmane.org/gmane.linux.kernel/784192">solution</a> was that I needed to disable two CONFIG setting Crazy enabled (+ I enabled KVM again, not sure if that is related or not).</p><p>And of course bisecting was totally damn unnecessary, since the bug is triggered by a given config line, not by a bad commit.</p><p>Life is good.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/linux-bisecting.html">Linux bisecting</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Thu 22 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 2 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>So I reported this "timer runs too fast" bug to LKML and they asked me to bisect it. I know bisect already, but I only bisected userspace software which is easy. Basically you write a script that reproduces the issue, then git bisect will find the first bad commit automatically.</p><p>With the kernel, this is much slower, because you must manually test each step.</p><p>Of course I wanted to speed things up, so I wrote a small testcase and run it right after init=/bin/sh. This is bad. I haven't noticed until almost the end of the bisect that the bug occurs only after udev is loaded. Now that I'm sure the corrected test script really reports GOOD for 2.6.27 and BAD for 2.6.28, I can do the real bisect...</p><p>As a side note, doing this with 1 machine would be really annoying. Luckily I can do whatever I want on my iBook, the build is done one of our fast Frugalware servers (dream) and I just download and test the bzImage on my notebook. I guess network booting would make it a bit faster (because currently I boot the test kernel, boot back the working one, download the next test one, goto 1), but I won't set up a whole tftp server on my iBook just for this. ;)</p><p>So hopefully tomorrow we'll know what is the real first bad commit.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/done-and-need-to-be-done-kernel-updates.html">Done and need-to-be-done kernel updates</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Wed 21 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>I finished the update to 2.6.28 (I mean fixing external modules) in a WIP repo, will merge it tonight, if everything goes fine.</p><p>OTOH it turns out that the net in qemu-ppc is disabled because the driver is disabled in the ppc config. So I'll have to enable those drivers when I sync.</p><p>Oh and a trick. mplayer -vo null -vc null will stop playing audio if video finishes earlier. mplayer -novideo won't. So that'll be the solution for my "sample music gets truncated in an flv-wav-mp3 conversion" problem. ;)</p><p>Finally the W3C css validator guys are nice, see <a href="http://thread.gmane.org/gmane.org.w3c.validator.css/2346">this thread</a>, basically it works fine now! :)</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/fast-clock.html">Fast clock</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Tue 20 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>After upgrading kernel to 2.6.28 my clock measures about 70 mins in an hour, sigh. We are debugging the issue with crazy, but probably it's not a user error, so we'll need to mail the lkml.</p><p>I just tried qemu svn, and it's amazing.</p><p>qemu-system-ppc -prom-env 'boot-device=cd:,\boot\yaboot\yaboot' -prom-env 'boot-args=conf=cd:,\boot\yaboot\yaboot.conf' -cdrom frugalware-1.0pre2-ppc-net.iso -hda ~/documents/qemu/hda.img</p><p>can boot the 1.0pre2 ppc netinstall iso! :)</p><p>The current problem is that the network card the machine emulates is not supported by the installer, but that'll be tomorrow's problem.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/ppc-entry.html">PPC entry</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 19 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>I recently ported our Qemu package to PPC, and just tested that it really works. We have a Linux binary (compiled for i386) for some 'plan making' exercise (inside the AI course at the uni), and of course I wanted to run it on my iBook. And yes, just wrapping the command with qemu-i386 made it work! :)</p><p>The other problem I noticed is that building external modules on PPC does not work. It seem to be a <a href="http://bugzilla.kernel.org/show_bug.cgi?id=11143">known bug</a>. PLD has a patch that changes the error message - to a permission problem. Given that on x86 building a kernel module is possible as a user - the goal would be the same on PPC as well. Not yet resolved...</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/bitlbee-vs-plugins-vs-os-x.html">BitlBee vs plugins vs OS X</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sun 18 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
I just sent two ptaches to wilmer:
<ul>
  <li><a href="http://frugalware.org/~vmiklos/patches/bitlbee-install-chat-h.patch">the first</a> fixes install-dev with latest bzr</li>
  <li><a href="http://frugalware.org/~vmiklos/patches/bitlbee-configure-osx-disable-strip.patch">the second</a> disables stripping on OS X as it seems that completely breaks plugins, while the plugin support is enabled by default.</li>
</ul>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/sudo-segfault.html">sudo segfault</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Sat 17 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>Quoting a mail I just sent to Miller:</p><p>,,It seems I hit a bug in sudo-1.7.0 (at least I can't reproduce it with
1.6.9p17):</p><p>$ sudo chown vmiklos /etc/sudoers
$ sudo false
sudo: /etc/sudoers is owned by uid 1003, should be 0
Segmentation fault</p><p>According to gdb, it seem to be a nullpointer-dereference bug, and given
that it is reproducible only in case the permission and/or owner is
wrong, I don't think it has a security impact. But who knows. ;)''</p><p>We'll see how does he handle the problem.</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/casablanca.html">casablanca</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 16 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="https://lh3.googleusercontent.com/QMXUYvz6CfweccJA-C1ZquVOs-BptFNTyXmL-0rA2_Lkdrx9ViSbq_VAdER-nkj-HsrZsdwA5NxfDG_GC2LtYXxxhx8jldc4JvFEUoLEaDM7DHzr5NnITeskcYsaaZl1LbYvtEywqg=w2400" alt="https://lh3.googleusercontent.com/QMXUYvz6CfweccJA-C1ZquVOs-BptFNTyXmL-0rA2_Lkdrx9ViSbq_VAdER-nkj-HsrZsdwA5NxfDG_GC2LtYXxxhx8jldc4JvFEUoLEaDM7DHzr5NnITeskcYsaaZl1LbYvtEywqg=w2400" />
</div>
</div>
<div class="paragraph"><p>regi, fekete-feher film. fennvan az imdb top250-ben, nem ok nelkul. annyira nem olvastam utana, de
van ra egy tippem, hogy keves eredetileg magyar szuletesu rendezo csinalt ilyen szintu filmeket
amerikaban '42-ben.</p></div>
<div class="paragraph"><p><a href="http://en.wikipedia.org/wiki/Michael_Curtiz">wikipedian</a> erdemes kicsit utanaolvasni, vicces, h
mindezt ugy csinalta, hogy meg angolul se tanult meg rendesen.</p></div>
<div class="paragraph"><p>ja es nem utolsosorban mostmar tudom, hogy mire utal a macskajaj vegen levo "i think this is the
beginning of a beautiful friendship". ;)</p></div>
<div class="paragraph"><p>(<a href="http://www.imdb.com/title/tt0034583/">imdb</a>, <a href="http://www.youtube.com/watch?v=xFeGMnjneH4">trailer</a>)</p></div>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/less-1-tweaks.html">less(1) tweaks</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Fri 16 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<p>First, to allow latin{1,2,whatever} accents in the pager to be non-escaped:</p><p><pre>
export LESSCHARSET="iso8859"
</pre></p><p>Second, I use:</p><p><pre>
# F: quit if input is less then one page
# M: no more-like short prompt
# R: accept colors
# X: don't throw away the output after quit under x
export LESS="FMRX"
</pre></p><p>Finally to send utf8 and other exotic chars in latin2 to stdout in git (OK, this is not strictly related):</p><p><pre>
git config i18n.logOutputEncoding latin2
</pre></p><p>Done!</p><p>Old:</p><p><pre>
Author: Andr??s V??r??sk?&lt;91&gt;i &lt;<a href="mailto:voroskoi@frugalware.org">voroskoi@frugalware.org</a>&gt;
</pre></p><p>New:</p><p><pre>
Author: András Vörösk?i &lt;<a href="mailto:voroskoi@frugalware.org">voroskoi@frugalware.org</a>&gt;
</pre></p><p>You can choose... ;-)</p>
</div>
</div>

  </div>
</article>
<hr />
<article>
  <div class="article_title">
    <h1><a href="https://vmiklos.hu/blog/lady-in-the-water.html">lady in the water</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Thu 15 January 2009</p>
  </div>
  <div class="article_readtime">
    <p>Estimated read time: 1 minutes</p>
  </div>
  <div class="article_text">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="https://lh3.googleusercontent.com/o8LBuELL3zpZhsyEEyRnjtAPaHs53Eopy0mzDwAWVelbzddAP1r-hkR8KVkS2W_GgoKevgpwPId7fcgEwqArEs8ccHjgvbtYQpB3RyZQhahoUGxmf1TQaLimv93cQFrsVOD47eJUeg=w640" alt="https://lh3.googleusercontent.com/o8LBuELL3zpZhsyEEyRnjtAPaHs53Eopy0mzDwAWVelbzddAP1r-hkR8KVkS2W_GgoKevgpwPId7fcgEwqArEs8ccHjgvbtYQpB3RyZQhahoUGxmf1TQaLimv93cQFrsVOD47eJUeg=w640" />
</div>
</div>
<div class="paragraph"><p>ez nem jott be. szegeny <a href="http://kemenczy.hu/">k</a>-t el kell szomoritsam, ugytunik nem egyezik minden
szempontbol a film-izlesunk.</p></div>
<div class="paragraph"><p>igazabol ha van egy kis eszem, es elobb utanananezek, hogy Shyamalan redezte, akkor nem meglepo. :)
eloszor lattam tole a falut, <a href="https://vmiklos.hu/blog/a_falu.html">az meg jo volt</a>. aztan jott a (persze
idoben korabbi) hatodik erzek, az <a href="https://vmiklos.hu/blog/hatodik_erzek.html">nem tetszett</a> - bar igaz,
annyibol erdemes volt megnezni, hogy Bruce Willis mekkora jo arc mar, hogy tud nemcsak lovoldozoset
jatszani.</p></div>
<div class="paragraph"><p>itt is ez az utobbi a szitu, csak eppen Bruce Willis nelkul. noi foszerepben a falubol az egyik
szinesz, aki kb u.ugy jatszik, de ott vakot jatszott, itt meg nem. a ferfi foszereplo elvileg a
paycheckbol ismeros kene legyen, de nem az. a film kozponti temajat kepezo szorny kb olyan, mintha
en csinaltam volna: annyira lenyugozott, hogy azon gondolkodtam, hogy biztos inverz kinematikaval
mozgatjak a vegtagokat. :)</p></div>
<div class="paragraph"><p>ja es van hozza meg valami kinai mese is - utalom a japan/kinai meseket.</p></div>
<div class="paragraph"><p>(<a href="http://www.imdb.com/title/tt0452637/">imdb</a>, <a href="http://www.youtube.com/watch?v=An7r24E5pFw">trailer</a>)</p></div>
</div>
</div>

  </div>
</article>

<footer>
<div id="paginator">
<a href="https://vmiklos.hu/blog/author/miklos-vajna61.html" class="button_accent">&larr; Older Posts</a>

<a href="https://vmiklos.hu/blog/author/miklos-vajna59.html" class="button_accent">Newer Posts &rarr;</a>
</div>
</footer>

    <div id="ending_message">
      <p>&copy; Miklos Vajna. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>